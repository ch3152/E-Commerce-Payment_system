[20250123 19:02:55:178][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 1884 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 19:02:55:344][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 19:02:55:728][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 19:02:55:728][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 19:03:02:367][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 19:03:02:383][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[20250123 19:03:02:995][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 578 ms. Found 5 JPA repository interfaces.
[20250123 19:03:03:079][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 19:03:03:083][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[20250123 19:03:03:144][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:03:03:147][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:03:03:149][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.TossPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:03:03:153][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:03:03:156][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.WebPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:03:03:160][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 37 ms. Found 0 Redis repository interfaces.
[20250123 19:03:05:799][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat initialized with port 8083 (http)
[20250123 19:03:05:861][INFO ][o.apache.coyote.http11.Http11NioProtocol] Initializing ProtocolHandler ["http-nio-8083"]
[20250123 19:03:05:879][INFO ][o.apache.catalina.core.StandardService] Starting service [Tomcat]
[20250123 19:03:05:879][INFO ][org.apache.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.31]
[20250123 19:03:06:114][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[20250123 19:03:06:114][INFO ][o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 10386 ms
[20250123 19:03:07:319][INFO ][o.hibernate.jpa.internal.util.LogHelper] HHH000204: Processing PersistenceUnitInfo [name: default]
[20250123 19:03:08:043][INFO ][org.hibernate.Version] HHH000412: Hibernate ORM core version 6.5.3.Final
[20250123 19:03:08:295][INFO ][o.h.c.internal.RegionFactoryInitiator] HHH000026: Second-level cache disabled
[20250123 19:03:13:095][INFO ][o.s.o.j.p.SpringPersistenceUnitInfo] No LoadTimeWeaver setup: ignoring JPA class transformer
[20250123 19:03:13:503][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[20250123 19:03:31:895][WARN ][o.h.engine.jdbc.spi.SqlExceptionHelper] SQL Error: 0, SQLState: 08S01
[20250123 19:03:31:902][ERROR][o.h.engine.jdbc.spi.SqlExceptionHelper] Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
[20250123 19:03:31:907][WARN ][o.h.e.j.e.i.JdbcEnvironmentInitiator] HHH000342: Could not obtain connection to query metadata
org.hibernate.exception.JDBCConnectionException: unable to obtain isolated JDBC connection [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:292)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:124)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:78)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:221)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:189)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1431)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1502)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.demo.DemoApplication.main(DemoApplication.java:9)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	... 40 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165)
	at com.mysql.cj.protocol.a.NativeProtocol.negotiateSSLConnection(NativeProtocol.java:380)
	at com.mysql.cj.protocol.a.NativeAuthenticationProvider.connect(NativeAuthenticationProvider.java:208)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1428)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:133)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:935)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:805)
	... 53 common frames omitted
Caused by: javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake
	at java.base/sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1714)
	at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1513)
	at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1420)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)
	at com.mysql.cj.protocol.ExportControlled.performTlsHandshake(ExportControlled.java:215)
	at com.mysql.cj.protocol.StandardSocketFactory.performTlsHandshake(StandardSocketFactory.java:192)
	at com.mysql.cj.protocol.a.NativeSocketConnection.performTlsHandshake(NativeSocketConnection.java:100)
	at com.mysql.cj.protocol.a.NativeProtocol.negotiateSSLConnection(NativeProtocol.java:371)
	... 58 common frames omitted
	Suppressed: java.net.SocketException: 현재 연결은 사용자의 호스트 시스템의 소프트웨어의 의해 중단되었습니다
		at java.base/sun.nio.ch.NioSocketImpl.implWrite(NioSocketImpl.java:420)
		at java.base/sun.nio.ch.NioSocketImpl.write(NioSocketImpl.java:440)
		at java.base/sun.nio.ch.NioSocketImpl$2.write(NioSocketImpl.java:826)
		at java.base/java.net.Socket$SocketOutputStream.write(Socket.java:1035)
		at java.base/sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)
		at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:407)
		at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)
		at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:467)
		... 63 common frames omitted
Caused by: java.io.EOFException: SSL peer shut down incorrectly
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:483)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readFully(SSLSocketInputRecord.java:461)
	at java.base/sun.security.ssl.SSLSocketInputRecord.decodeInputRecord(SSLSocketInputRecord.java:243)
	at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:181)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)
	at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1505)
	... 65 common frames omitted
[20250123 19:03:32:119][WARN ][org.hibernate.orm.deprecation] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[20250123 19:03:32:205][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@15187f6e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3aea743b)
[20250123 19:03:32:205][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@16b5268b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1bdf4032)
[20250123 19:03:32:205][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4deaaf28) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@24c85102)
[20250123 19:03:32:205][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1b76ba6e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7a49a7e2)
[20250123 19:03:32:218][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6242d46c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4e4c967)
[20250123 19:03:32:222][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2a6fa65f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1d2e6247)
[20250123 19:03:32:225][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@693b343a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4bb6778b)
[20250123 19:03:32:227][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1cbc6dfc) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@72ee1876)
[20250123 19:03:32:232][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@424478f5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3a364519)
[20250123 19:03:36:498][INFO ][o.h.e.t.j.p.i.JtaPlatformInitiator] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[20250123 19:03:36:721][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[20250123 19:03:37:279][INFO ][com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@54a9fe17
[20250123 19:03:37:295][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[20250123 19:03:39:053][DEBUG][org.hibernate.SQL] alter table cart modify column product_id bigint not null
[20250123 19:03:46:060][DEBUG][org.hibernate.SQL] alter table product modify column price integer
[20250123 19:03:46:647][DEBUG][org.hibernate.SQL] alter table cart add constraint FK3d704slv66tw6x5hmbm6p2x3u foreign key (product_id) references product (id)
[20250123 19:03:46:832][DEBUG][org.hibernate.SQL] alter table cart add constraint FKrohrfp7r9es1qeb1edyjv893j foreign key (signup_id) references user (signup_id)
[20250123 19:03:47:049][INFO ][o.s.o.j.LocalContainerEntityManagerFactoryBean] Initialized JPA EntityManagerFactory for persistence unit 'default'
[20250123 19:03:56:562][WARN ][o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[20250123 19:03:57:129][INFO ][o.s.b.a.w.s.WelcomePageHandlerMapping] Adding welcome page template: index
[20250123 19:03:59:325][INFO ][o.s.b.d.a.OptionalLiveReloadServer] LiveReload server is running on port 35729
[20250123 19:03:59:409][INFO ][o.apache.coyote.http11.Http11NioProtocol] Starting ProtocolHandler ["http-nio-8083"]
[20250123 19:03:59:574][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat started on port 8083 (http) with context path '/'
[20250123 19:03:59:590][INFO ][o.s.a.r.c.CachingConnectionFactory] Attempting to connect to: [localhost:5672]
[20250123 19:04:00:836][INFO ][o.s.a.r.c.CachingConnectionFactory] Created new connection: rabbitConnectionFactory#212dea95:0/SimpleConnection@4b732ff [delegate=amqp://guest@127.0.0.1:5672/, localPort=59892]
[20250123 19:04:01:064][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Starting...
[20250123 19:04:01:064][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3d4776c0]]
[20250123 19:04:01:064][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Started.
[20250123 19:04:01:176][INFO ][com.example.demo.DemoApplication] Started DemoApplication in 77.955 seconds (process running for 81.429)
[20250123 19:04:59:371][INFO ][o.s.w.s.c.WebSocketMessageBrokerStats] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 1, completed tasks = 1]
[20250123 19:05:41:024][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring DispatcherServlet 'dispatcherServlet'
[20250123 19:05:41:024][INFO ][o.s.web.servlet.DispatcherServlet] Initializing Servlet 'dispatcherServlet'
[20250123 19:05:41:024][INFO ][o.s.web.servlet.DispatcherServlet] Completed initialization in 0 ms
[20250123 19:05:42:706][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 19:05:42:726][WARN ][o.a.catalina.util.SessionIdGeneratorBase] Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [510] milliseconds.
[20250123 19:05:46:242][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:05:46:435][INFO ][com.example.demo.service.UserService] 로그인 처리 시간 (DB 조회 후 Redis 저장): 255 ms
[20250123 19:05:48:991][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 19:05:49:010][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:05:49:111][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 19:05:49:116][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 19:05:49:119][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:05:54:089][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:05:54:220][DEBUG][org.hibernate.SQL] select c1_0.id,c1_0.created_at,c1_0.product_id,c1_0.quantity,c1_0.updated_at,c1_0.signup_id from cart c1_0 where c1_0.signup_id=?
[20250123 19:05:54:548][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:05:54:571][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 19:05:54:588][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 19:05:54:595][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 19:05:56:895][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:05:56:907][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 19:05:56:972][INFO ][com.example.demo.service.RedisService] Sent cart items to queue: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 19:05:57:106][WARN ][c.e.demo.service.CartMessageListener] Received non-JSON message: "Cart updated for user: uaua2222"
[20250123 19:06:01:160][INFO ][c.example.demo.service.CartSyncService] Sent batch of cart items to queue
[20250123 19:07:01:148][INFO ][c.example.demo.service.CartSyncService] Sent batch of cart items to queue
[20250123 19:08:01:352][INFO ][c.example.demo.service.CartSyncService] Sent batch of cart items to queue
[20250123 19:20:04:666][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 76 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 19:20:04:683][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 19:20:05:984][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 19:20:05:987][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 19:20:27:431][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 19:20:27:446][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[20250123 19:20:28:101][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 619 ms. Found 5 JPA repository interfaces.
[20250123 19:20:28:169][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 19:20:28:173][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[20250123 19:20:28:243][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:20:28:246][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:20:28:249][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.TossPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:20:28:258][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:20:28:261][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.WebPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:20:28:265][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 60 ms. Found 0 Redis repository interfaces.
[20250123 19:20:30:671][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat initialized with port 8083 (http)
[20250123 19:20:30:733][INFO ][o.apache.coyote.http11.Http11NioProtocol] Initializing ProtocolHandler ["http-nio-8083"]
[20250123 19:20:30:753][INFO ][o.apache.catalina.core.StandardService] Starting service [Tomcat]
[20250123 19:20:30:771][INFO ][org.apache.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.31]
[20250123 19:20:38:837][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[20250123 19:20:38:841][INFO ][o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 32850 ms
[20250123 19:20:39:745][INFO ][o.hibernate.jpa.internal.util.LogHelper] HHH000204: Processing PersistenceUnitInfo [name: default]
[20250123 19:20:40:227][INFO ][org.hibernate.Version] HHH000412: Hibernate ORM core version 6.5.3.Final
[20250123 19:20:40:357][INFO ][o.h.c.internal.RegionFactoryInitiator] HHH000026: Second-level cache disabled
[20250123 19:20:41:335][INFO ][o.s.o.j.p.SpringPersistenceUnitInfo] No LoadTimeWeaver setup: ignoring JPA class transformer
[20250123 19:20:41:435][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[20250123 19:20:45:701][INFO ][com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@df00701
[20250123 19:20:45:708][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[20250123 19:20:46:093][WARN ][org.hibernate.orm.deprecation] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[20250123 19:20:46:206][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6011d350) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3ccafc39)
[20250123 19:20:46:208][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4558f822) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@68493b2f)
[20250123 19:20:46:209][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@62cfe25) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6dece1ed)
[20250123 19:20:46:216][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6ff78d9a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4ec65308)
[20250123 19:20:46:220][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2f7a4123) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@25133ea8)
[20250123 19:20:46:223][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@765bfccd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@af9af1d)
[20250123 19:20:46:226][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@77f78438) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4bad1210)
[20250123 19:20:46:227][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6239223c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@257ff821)
[20250123 19:20:46:229][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6e626ef2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4dfcdcbc)
[20250123 19:20:54:120][INFO ][o.h.e.t.j.p.i.JtaPlatformInitiator] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[20250123 19:20:54:475][INFO ][o.s.o.j.LocalContainerEntityManagerFactoryBean] Initialized JPA EntityManagerFactory for persistence unit 'default'
[20250123 19:21:03:666][WARN ][o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[20250123 19:21:04:032][INFO ][o.s.b.a.w.s.WelcomePageHandlerMapping] Adding welcome page template: index
[20250123 19:21:06:353][INFO ][o.s.b.d.a.OptionalLiveReloadServer] LiveReload server is running on port 35729
[20250123 19:21:06:478][INFO ][o.apache.coyote.http11.Http11NioProtocol] Starting ProtocolHandler ["http-nio-8083"]
[20250123 19:21:07:556][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat started on port 8083 (http) with context path '/'
[20250123 19:21:07:562][INFO ][o.s.a.r.c.CachingConnectionFactory] Attempting to connect to: [localhost:5672]
[20250123 19:21:12:655][INFO ][o.s.a.r.c.CachingConnectionFactory] Created new connection: rabbitConnectionFactory#3644befc:0/SimpleConnection@36ee763d [delegate=amqp://guest@127.0.0.1:5672/, localPort=60593]
[20250123 19:21:12:953][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Starting...
[20250123 19:21:12:955][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2fc6bad0]]
[20250123 19:21:12:957][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Started.
[20250123 19:21:13:042][INFO ][com.example.demo.DemoApplication] Started DemoApplication in 83.294 seconds (process running for 87.506)
[20250123 19:22:06:454][INFO ][o.s.w.s.c.WebSocketMessageBrokerStats] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
[20250123 19:22:10:745][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring DispatcherServlet 'dispatcherServlet'
[20250123 19:22:10:746][INFO ][o.s.web.servlet.DispatcherServlet] Initializing Servlet 'dispatcherServlet'
[20250123 19:22:10:749][INFO ][o.s.web.servlet.DispatcherServlet] Completed initialization in 1 ms
[20250123 19:22:13:029][WARN ][o.a.catalina.util.SessionIdGeneratorBase] Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [360] milliseconds.
[20250123 19:22:13:197][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 19:22:22:900][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:22:23:101][INFO ][com.example.demo.service.UserService] 로그인 처리 시간 (DB 조회 후 Redis 저장): 1205 ms
[20250123 19:22:55:225][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 19:22:55:230][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:22:55:330][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 19:22:55:336][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 19:22:55:346][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:22:56:571][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:22:56:605][DEBUG][org.hibernate.SQL] select c1_0.id,c1_0.created_at,c1_0.product_id,c1_0.quantity,c1_0.updated_at,c1_0.signup_id from cart c1_0 where c1_0.signup_id=?
[20250123 19:22:56:644][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:22:56:667][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 19:22:56:667][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 19:22:56:680][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 19:23:02:114][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:23:02:132][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 19:23:02:192][INFO ][com.example.demo.service.RedisService] Sent cart items to queue: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 19:23:02:259][INFO ][c.e.demo.service.CartMessageListener] [onMessage] RabbitMQ에서 메시지 수신: "Cart updated for user: uaua2222"
[20250123 19:23:02:261][WARN ][c.e.demo.service.CartMessageListener] [onMessage] 비 JSON 메시지 수신: "Cart updated for user: uaua2222"
[20250123 19:27:27:860][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 2484 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 19:27:27:869][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 19:27:28:155][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 19:27:28:155][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 19:27:42:322][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 19:27:42:338][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[20250123 19:27:42:961][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 600 ms. Found 5 JPA repository interfaces.
[20250123 19:27:43:078][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 19:27:43:078][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[20250123 19:27:43:191][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:27:43:196][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:27:43:199][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.TossPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:27:43:205][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:27:43:213][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.WebPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:27:43:213][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 81 ms. Found 0 Redis repository interfaces.
[20250123 19:27:45:847][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat initialized with port 8083 (http)
[20250123 19:27:45:898][INFO ][o.apache.coyote.http11.Http11NioProtocol] Initializing ProtocolHandler ["http-nio-8083"]
[20250123 19:27:45:932][INFO ][o.apache.catalina.core.StandardService] Starting service [Tomcat]
[20250123 19:27:45:932][INFO ][org.apache.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.31]
[20250123 19:27:46:274][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[20250123 19:27:46:274][INFO ][o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 18119 ms
[20250123 19:27:46:899][INFO ][o.hibernate.jpa.internal.util.LogHelper] HHH000204: Processing PersistenceUnitInfo [name: default]
[20250123 19:27:47:187][INFO ][org.hibernate.Version] HHH000412: Hibernate ORM core version 6.5.3.Final
[20250123 19:27:47:348][INFO ][o.h.c.internal.RegionFactoryInitiator] HHH000026: Second-level cache disabled
[20250123 19:27:54:762][INFO ][o.s.o.j.p.SpringPersistenceUnitInfo] No LoadTimeWeaver setup: ignoring JPA class transformer
[20250123 19:27:54:912][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[20250123 19:27:56:057][INFO ][com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6337eeaa
[20250123 19:27:56:074][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[20250123 19:27:56:340][WARN ][org.hibernate.orm.deprecation] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[20250123 19:27:56:445][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4a9abfef) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5f8ab19e)
[20250123 19:27:56:446][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1c325ef) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@686c056)
[20250123 19:27:56:448][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@197c62ae) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@13f0365e)
[20250123 19:27:56:450][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@b048592) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3bb070d4)
[20250123 19:27:56:452][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@41a30c1e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@537380b2)
[20250123 19:27:56:454][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7c74a75b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@44fa5ed1)
[20250123 19:27:56:459][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1d6069ac) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@52590ca2)
[20250123 19:27:56:461][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@b4e37cd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1dd4eca3)
[20250123 19:27:56:462][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3e7dbbc) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1941eb7e)
[20250123 19:27:59:443][INFO ][o.h.e.t.j.p.i.JtaPlatformInitiator] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[20250123 19:27:59:798][INFO ][o.s.o.j.LocalContainerEntityManagerFactoryBean] Initialized JPA EntityManagerFactory for persistence unit 'default'
[20250123 19:28:02:833][WARN ][o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[20250123 19:28:03:133][INFO ][o.s.b.a.w.s.WelcomePageHandlerMapping] Adding welcome page template: index
[20250123 19:28:04:570][INFO ][o.s.b.d.a.OptionalLiveReloadServer] LiveReload server is running on port 35729
[20250123 19:28:04:639][INFO ][o.apache.coyote.http11.Http11NioProtocol] Starting ProtocolHandler ["http-nio-8083"]
[20250123 19:28:04:710][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat started on port 8083 (http) with context path '/'
[20250123 19:28:04:711][INFO ][o.s.a.r.c.CachingConnectionFactory] Attempting to connect to: [localhost:5672]
[20250123 19:28:06:210][INFO ][o.s.a.r.c.CachingConnectionFactory] Created new connection: rabbitConnectionFactory#2164b019:0/SimpleConnection@7750507d [delegate=amqp://guest@127.0.0.1:5672/, localPort=61315]
[20250123 19:28:06:759][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Starting...
[20250123 19:28:06:761][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@15e247f9]]
[20250123 19:28:06:774][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Started.
[20250123 19:28:06:838][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring DispatcherServlet 'dispatcherServlet'
[20250123 19:28:06:840][INFO ][o.s.web.servlet.DispatcherServlet] Initializing Servlet 'dispatcherServlet'
[20250123 19:28:06:844][INFO ][o.s.web.servlet.DispatcherServlet] Completed initialization in 3 ms
[20250123 19:28:06:864][INFO ][com.example.demo.DemoApplication] Started DemoApplication in 41.838 seconds (process running for 46.892)
[20250123 19:28:08:868][WARN ][o.a.catalina.util.SessionIdGeneratorBase] Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [315] milliseconds.
[20250123 19:28:09:872][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 19:28:18:422][INFO ][com.example.demo.service.UserService] Redis에서 로그인 처리
[20250123 19:28:18:428][INFO ][com.example.demo.service.UserService] 로그인 처리 시간 (Redis 사용): 922 ms
[20250123 19:28:29:985][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 19:28:30:100][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 19:28:30:121][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 19:28:30:190][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:28:30:190][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:28:34:285][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:28:34:312][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 19:28:34:361][INFO ][com.example.demo.service.RedisService] Sent cart items to queue: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":14,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 19:28:34:424][INFO ][c.e.demo.service.CartMessageListener] [onMessage] RabbitMQ에서 메시지 수신: "Cart updated for user: uaua2222"
[20250123 19:28:34:425][WARN ][c.e.demo.service.CartMessageListener] [onMessage] 비 JSON 메시지 수신: "Cart updated for user: uaua2222"
[20250123 19:29:04:639][INFO ][o.s.w.s.c.WebSocketMessageBrokerStats] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
[20250123 19:38:14:787][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 3656 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 19:38:14:793][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 19:38:15:181][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 19:38:15:181][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 19:38:19:610][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 19:38:19:637][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[20250123 19:38:20:912][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 1242 ms. Found 5 JPA repository interfaces.
[20250123 19:38:21:208][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 19:38:21:224][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[20250123 19:38:21:394][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:38:21:394][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:38:21:394][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.TossPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:38:21:411][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:38:21:416][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.WebPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:38:21:420][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 54 ms. Found 0 Redis repository interfaces.
[20250123 19:38:24:763][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat initialized with port 8083 (http)
[20250123 19:38:24:803][INFO ][o.apache.coyote.http11.Http11NioProtocol] Initializing ProtocolHandler ["http-nio-8083"]
[20250123 19:38:24:812][INFO ][o.apache.catalina.core.StandardService] Starting service [Tomcat]
[20250123 19:38:24:827][INFO ][org.apache.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.31]
[20250123 19:38:25:032][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[20250123 19:38:25:044][INFO ][o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 9862 ms
[20250123 19:38:25:677][INFO ][o.hibernate.jpa.internal.util.LogHelper] HHH000204: Processing PersistenceUnitInfo [name: default]
[20250123 19:38:26:001][INFO ][org.hibernate.Version] HHH000412: Hibernate ORM core version 6.5.3.Final
[20250123 19:38:26:165][INFO ][o.h.c.internal.RegionFactoryInitiator] HHH000026: Second-level cache disabled
[20250123 19:38:27:443][INFO ][o.s.o.j.p.SpringPersistenceUnitInfo] No LoadTimeWeaver setup: ignoring JPA class transformer
[20250123 19:38:27:689][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[20250123 19:38:28:908][INFO ][com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7d8b96ba
[20250123 19:38:28:925][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[20250123 19:38:29:188][WARN ][org.hibernate.orm.deprecation] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[20250123 19:38:29:286][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1c2ca8fa) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3a42ffd1)
[20250123 19:38:29:290][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6011d350) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3ccafc39)
[20250123 19:38:29:293][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4558f822) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@68493b2f)
[20250123 19:38:29:354][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@62cfe25) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6dece1ed)
[20250123 19:38:29:359][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6ff78d9a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4ec65308)
[20250123 19:38:29:361][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2f7a4123) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@25133ea8)
[20250123 19:38:29:363][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@765bfccd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@af9af1d)
[20250123 19:38:29:366][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@77f78438) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4bad1210)
[20250123 19:38:29:372][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6239223c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@257ff821)
[20250123 19:38:32:940][INFO ][o.h.e.t.j.p.i.JtaPlatformInitiator] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[20250123 19:38:33:357][INFO ][o.s.o.j.LocalContainerEntityManagerFactoryBean] Initialized JPA EntityManagerFactory for persistence unit 'default'
[20250123 19:38:37:662][WARN ][o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[20250123 19:38:37:875][INFO ][o.s.b.a.w.s.WelcomePageHandlerMapping] Adding welcome page template: index
[20250123 19:38:39:587][INFO ][o.s.b.d.a.OptionalLiveReloadServer] LiveReload server is running on port 35729
[20250123 19:38:39:740][INFO ][o.apache.coyote.http11.Http11NioProtocol] Starting ProtocolHandler ["http-nio-8083"]
[20250123 19:38:39:816][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat started on port 8083 (http) with context path '/'
[20250123 19:38:39:825][INFO ][o.s.a.r.c.CachingConnectionFactory] Attempting to connect to: [localhost:5672]
[20250123 19:38:40:162][INFO ][o.s.a.r.c.CachingConnectionFactory] Created new connection: rabbitConnectionFactory#66b31248:0/SimpleConnection@674575e5 [delegate=amqp://guest@127.0.0.1:5672/, localPort=61420]
[20250123 19:38:40:458][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Starting...
[20250123 19:38:40:458][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5ed590ac]]
[20250123 19:38:40:458][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Started.
[20250123 19:38:40:556][INFO ][com.example.demo.DemoApplication] Started DemoApplication in 29.333 seconds (process running for 32.602)
[20250123 19:38:40:571][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 19:39:39:770][INFO ][o.s.w.s.c.WebSocketMessageBrokerStats] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 1, completed tasks = 1]
[20250123 19:39:40:556][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 19:39:54:141][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring DispatcherServlet 'dispatcherServlet'
[20250123 19:39:54:146][INFO ][o.s.web.servlet.DispatcherServlet] Initializing Servlet 'dispatcherServlet'
[20250123 19:39:54:284][INFO ][o.s.web.servlet.DispatcherServlet] Completed initialization in 137 ms
[20250123 19:39:56:354][WARN ][o.a.catalina.util.SessionIdGeneratorBase] Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [255] milliseconds.
[20250123 19:39:56:659][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 19:40:40:559][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 19:40:48:207][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:40:48:415][INFO ][com.example.demo.service.UserService] 로그인 처리 시간 (DB 조회 후 Redis 저장): 286 ms
[20250123 19:40:49:859][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 19:40:49:865][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:40:49:969][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 19:40:49:974][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 19:40:49:982][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:40:51:066][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:40:51:100][DEBUG][org.hibernate.SQL] select c1_0.id,c1_0.created_at,c1_0.product_id,c1_0.quantity,c1_0.updated_at,c1_0.signup_id from cart c1_0 where c1_0.signup_id=?
[20250123 19:40:51:186][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:40:51:222][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 19:40:51:241][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 19:40:51:245][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 19:40:52:427][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:40:52:444][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 19:40:52:610][INFO ][com.example.demo.service.RedisService] Sent cart items to queue: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 19:40:52:723][INFO ][c.e.demo.service.CartMessageListener] [onMessage] RabbitMQ에서 메시지 수신: "Cart updated for user: uaua2222"
[20250123 19:40:52:724][WARN ][c.e.demo.service.CartMessageListener] [onMessage] 비 JSON 메시지 수신: "Cart updated for user: uaua2222"
[20250123 19:41:40:553][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 19:41:40:596][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 19:41:40:603][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 19:41:40:618][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@a4a8c5c, com.example.demo.dto.CartItemDTO@25db41af, com.example.demo.dto.CartItemDTO@253c3026]
[20250123 19:41:40:620][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@a4a8c5c, com.example.demo.dto.CartItemDTO@25db41af, com.example.demo.dto.CartItemDTO@253c3026]
[20250123 19:41:40:652][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 19:41:40:668][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 19:56:03:845][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 10284 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 19:56:03:856][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 19:56:04:230][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 19:56:04:232][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 19:56:18:454][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 19:56:18:456][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[20250123 19:56:19:651][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 1141 ms. Found 5 JPA repository interfaces.
[20250123 19:56:19:770][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 19:56:19:789][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[20250123 19:56:19:874][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:56:19:877][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:56:19:893][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.TossPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:56:19:909][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:56:19:921][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.WebPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 19:56:19:928][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 103 ms. Found 0 Redis repository interfaces.
[20250123 19:56:31:159][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat initialized with port 8083 (http)
[20250123 19:56:31:231][INFO ][o.apache.coyote.http11.Http11NioProtocol] Initializing ProtocolHandler ["http-nio-8083"]
[20250123 19:56:31:262][INFO ][o.apache.catalina.core.StandardService] Starting service [Tomcat]
[20250123 19:56:31:271][INFO ][org.apache.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.31]
[20250123 19:56:31:652][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[20250123 19:56:31:653][INFO ][o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 27418 ms
[20250123 19:56:32:349][INFO ][o.hibernate.jpa.internal.util.LogHelper] HHH000204: Processing PersistenceUnitInfo [name: default]
[20250123 19:56:32:672][INFO ][org.hibernate.Version] HHH000412: Hibernate ORM core version 6.5.3.Final
[20250123 19:56:32:813][INFO ][o.h.c.internal.RegionFactoryInitiator] HHH000026: Second-level cache disabled
[20250123 19:56:34:091][INFO ][o.s.o.j.p.SpringPersistenceUnitInfo] No LoadTimeWeaver setup: ignoring JPA class transformer
[20250123 19:56:34:291][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[20250123 19:56:35:446][INFO ][com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4f81aa1c
[20250123 19:56:35:462][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[20250123 19:56:35:742][WARN ][org.hibernate.orm.deprecation] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[20250123 19:56:35:940][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6dece1ed) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6ff78d9a)
[20250123 19:56:35:943][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4ec65308) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2f7a4123)
[20250123 19:56:35:945][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@25133ea8) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@765bfccd)
[20250123 19:56:35:993][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@af9af1d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@77f78438)
[20250123 19:56:36:019][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4bad1210) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6239223c)
[20250123 19:56:36:032][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@257ff821) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6e626ef2)
[20250123 19:56:36:067][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4dfcdcbc) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@66ff3ffd)
[20250123 19:56:36:085][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3c9b7df3) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4173816c)
[20250123 19:56:36:202][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6ac1acc2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@755e66b0)
[20250123 19:56:50:405][INFO ][o.h.e.t.j.p.i.JtaPlatformInitiator] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[20250123 19:56:51:067][INFO ][o.s.o.j.LocalContainerEntityManagerFactoryBean] Initialized JPA EntityManagerFactory for persistence unit 'default'
[20250123 19:57:01:463][WARN ][o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[20250123 19:57:04:347][INFO ][o.s.b.a.w.s.WelcomePageHandlerMapping] Adding welcome page template: index
[20250123 19:57:05:863][INFO ][o.s.b.d.a.OptionalLiveReloadServer] LiveReload server is running on port 35729
[20250123 19:57:05:942][INFO ][o.apache.coyote.http11.Http11NioProtocol] Starting ProtocolHandler ["http-nio-8083"]
[20250123 19:57:06:010][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat started on port 8083 (http) with context path '/'
[20250123 19:57:06:017][INFO ][o.s.a.r.c.CachingConnectionFactory] Attempting to connect to: [localhost:5672]
[20250123 19:57:06:282][INFO ][o.s.a.r.c.CachingConnectionFactory] Created new connection: rabbitConnectionFactory#6c3c27fc:0/SimpleConnection@74f42c9c [delegate=amqp://guest@127.0.0.1:5672/, localPort=64600]
[20250123 19:57:06:434][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Starting...
[20250123 19:57:06:437][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@18819112]]
[20250123 19:57:06:438][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Started.
[20250123 19:57:06:470][INFO ][com.example.demo.DemoApplication] Started DemoApplication in 65.642 seconds (process running for 70.872)
[20250123 19:57:06:492][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 19:57:07:630][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 19:57:07:630][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 19:57:07:779][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@7e034286, com.example.demo.dto.CartItemDTO@723f9c5a, com.example.demo.dto.CartItemDTO@3db09614]
[20250123 19:57:07:795][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@7e034286, com.example.demo.dto.CartItemDTO@723f9c5a, com.example.demo.dto.CartItemDTO@3db09614]
[20250123 19:57:07:830][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 19:57:07:877][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 19:57:34:532][INFO ][io.lettuce.core.protocol.CommandHandler] null Unexpected exception during request: java.net.SocketException: Connection reset
java.net.SocketException: Connection reset
	at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)
	at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:255)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:356)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
[20250123 19:57:34:623][INFO ][i.l.core.protocol.ConnectionWatchdog] Reconnecting, last destination was localhost/127.0.0.1:6379
[20250123 19:57:34:687][WARN ][i.l.core.protocol.ConnectionWatchdog] Cannot reconnect to [localhost/<unresolved>:6379]: Connection refused: no further information: localhost/127.0.0.1:6379
[20250123 19:57:43:762][INFO ][i.l.core.protocol.ConnectionWatchdog] Reconnecting, last destination was localhost/<unresolved>:6379
[20250123 19:57:43:762][WARN ][i.l.core.protocol.ConnectionWatchdog] Cannot reconnect to [localhost/<unresolved>:6379]: Connection refused: no further information: localhost/127.0.0.1:6379
[20250123 19:57:51:962][INFO ][i.l.core.protocol.ConnectionWatchdog] Reconnecting, last destination was localhost/<unresolved>:6379
[20250123 19:57:51:962][WARN ][i.l.core.protocol.ConnectionWatchdog] Cannot reconnect to [localhost/<unresolved>:6379]: Connection refused: no further information: localhost/127.0.0.1:6379
[20250123 19:58:05:910][INFO ][o.s.w.s.c.WebSocketMessageBrokerStats] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 1, completed tasks = 1]
[20250123 19:58:06:474][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 19:58:08:375][INFO ][i.l.core.protocol.ConnectionWatchdog] Reconnecting, last destination was localhost/<unresolved>:6379
[20250123 19:58:08:385][INFO ][i.l.core.protocol.ReconnectionHandler] Reconnected to localhost/<unresolved>:6379
[20250123 19:58:58:128][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring DispatcherServlet 'dispatcherServlet'
[20250123 19:58:58:132][INFO ][o.s.web.servlet.DispatcherServlet] Initializing Servlet 'dispatcherServlet'
[20250123 19:58:58:273][INFO ][o.s.web.servlet.DispatcherServlet] Completed initialization in 139 ms
[20250123 19:58:59:999][WARN ][o.a.catalina.util.SessionIdGeneratorBase] Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [339] milliseconds.
[20250123 19:59:05:327][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 19:59:06:483][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 19:59:14:145][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:59:14:161][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:59:14:437][INFO ][com.example.demo.service.UserService] 로그인 처리 시간 (DB 조회 후 Redis 저장): 408 ms
[20250123 19:59:14:440][INFO ][com.example.demo.service.UserService] 로그인 처리 시간 (DB 조회 후 Redis 저장): 411 ms
[20250123 19:59:19:890][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 19:59:19:894][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:59:20:896][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 19:59:20:906][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:59:20:957][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 19:59:20:963][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 19:59:20:963][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:59:22:012][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:59:22:064][DEBUG][org.hibernate.SQL] select c1_0.id,c1_0.created_at,c1_0.product_id,c1_0.quantity,c1_0.updated_at,c1_0.signup_id from cart c1_0 where c1_0.signup_id=?
[20250123 19:59:22:117][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:59:22:137][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 19:59:22:148][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 19:59:22:153][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 19:59:23:368][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 19:59:23:388][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 19:59:23:409][INFO ][com.example.demo.service.RedisService] Sent cart items to queue: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 19:59:23:508][INFO ][c.e.demo.service.CartMessageListener] [onMessage] RabbitMQ에서 메시지 수신: "Cart updated for user: uaua2222"
[20250123 19:59:23:508][WARN ][c.e.demo.service.CartMessageListener] [onMessage] 비 JSON 메시지 수신: "Cart updated for user: uaua2222"
[20250123 20:00:06:476][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:00:06:482][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 20:00:06:484][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 20:00:06:489][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@78609262, com.example.demo.dto.CartItemDTO@7f8584f4, com.example.demo.dto.CartItemDTO@3ad4c5a0]
[20250123 20:00:06:491][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@78609262, com.example.demo.dto.CartItemDTO@7f8584f4, com.example.demo.dto.CartItemDTO@3ad4c5a0]
[20250123 20:00:06:493][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:00:06:499][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 20:01:06:483][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:01:06:490][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 20:01:06:491][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 20:01:06:499][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@67ffc60e, com.example.demo.dto.CartItemDTO@1b70ab11, com.example.demo.dto.CartItemDTO@48013eaf]
[20250123 20:01:06:502][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@67ffc60e, com.example.demo.dto.CartItemDTO@1b70ab11, com.example.demo.dto.CartItemDTO@48013eaf]
[20250123 20:01:06:502][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:01:06:508][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 20:12:22:819][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 17340 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 20:12:22:840][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 20:12:23:085][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 20:12:23:108][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 20:12:26:866][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 20:12:26:882][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[20250123 20:12:28:336][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 1419 ms. Found 5 JPA repository interfaces.
[20250123 20:12:28:454][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 20:12:28:459][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[20250123 20:12:28:555][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:12:28:560][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:12:28:574][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.TossPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:12:28:591][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:12:28:591][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.WebPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:12:28:591][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 83 ms. Found 0 Redis repository interfaces.
[20250123 20:12:31:719][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat initialized with port 8083 (http)
[20250123 20:12:31:755][INFO ][o.apache.coyote.http11.Http11NioProtocol] Initializing ProtocolHandler ["http-nio-8083"]
[20250123 20:12:31:769][INFO ][o.apache.catalina.core.StandardService] Starting service [Tomcat]
[20250123 20:12:31:769][INFO ][org.apache.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.31]
[20250123 20:12:32:099][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[20250123 20:12:32:101][INFO ][o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 8965 ms
[20250123 20:12:33:514][INFO ][o.hibernate.jpa.internal.util.LogHelper] HHH000204: Processing PersistenceUnitInfo [name: default]
[20250123 20:12:33:867][INFO ][org.hibernate.Version] HHH000412: Hibernate ORM core version 6.5.3.Final
[20250123 20:12:34:035][INFO ][o.h.c.internal.RegionFactoryInitiator] HHH000026: Second-level cache disabled
[20250123 20:12:35:421][INFO ][o.s.o.j.p.SpringPersistenceUnitInfo] No LoadTimeWeaver setup: ignoring JPA class transformer
[20250123 20:12:35:563][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[20250123 20:12:36:814][INFO ][com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@42c4754a
[20250123 20:12:36:826][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[20250123 20:12:37:099][WARN ][org.hibernate.orm.deprecation] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[20250123 20:12:37:252][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@68493b2f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@62cfe25)
[20250123 20:12:37:252][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6dece1ed) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6ff78d9a)
[20250123 20:12:37:290][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4ec65308) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2f7a4123)
[20250123 20:12:37:313][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@25133ea8) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@765bfccd)
[20250123 20:12:37:333][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@af9af1d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@77f78438)
[20250123 20:12:37:383][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4bad1210) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6239223c)
[20250123 20:12:37:403][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@257ff821) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6e626ef2)
[20250123 20:12:37:451][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4dfcdcbc) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@66ff3ffd)
[20250123 20:12:37:485][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3c9b7df3) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4173816c)
[20250123 20:12:42:487][INFO ][o.h.e.t.j.p.i.JtaPlatformInitiator] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[20250123 20:12:43:006][INFO ][o.s.o.j.LocalContainerEntityManagerFactoryBean] Initialized JPA EntityManagerFactory for persistence unit 'default'
[20250123 20:12:47:628][WARN ][o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[20250123 20:12:48:088][INFO ][o.s.b.a.w.s.WelcomePageHandlerMapping] Adding welcome page template: index
[20250123 20:12:49:853][INFO ][o.s.b.d.a.OptionalLiveReloadServer] LiveReload server is running on port 35729
[20250123 20:12:49:992][INFO ][o.apache.coyote.http11.Http11NioProtocol] Starting ProtocolHandler ["http-nio-8083"]
[20250123 20:12:50:111][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat started on port 8083 (http) with context path '/'
[20250123 20:12:50:121][INFO ][o.s.a.r.c.CachingConnectionFactory] Attempting to connect to: [localhost:5672]
[20250123 20:12:50:595][INFO ][o.s.a.r.c.CachingConnectionFactory] Created new connection: rabbitConnectionFactory#312bf3fd:0/SimpleConnection@d5241f3 [delegate=amqp://guest@127.0.0.1:5672/, localPort=65222]
[20250123 20:12:51:217][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Starting...
[20250123 20:12:51:217][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7f1c89e9]]
[20250123 20:12:51:217][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Started.
[20250123 20:12:51:391][INFO ][com.example.demo.DemoApplication] Started DemoApplication in 31.118 seconds (process running for 33.201)
[20250123 20:12:51:426][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:13:50:993][INFO ][o.s.w.s.c.WebSocketMessageBrokerStats] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 1, completed tasks = 1]
[20250123 20:13:51:443][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:14:51:394][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:15:51:400][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:16:51:443][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:17:00:586][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring DispatcherServlet 'dispatcherServlet'
[20250123 20:17:00:591][INFO ][o.s.web.servlet.DispatcherServlet] Initializing Servlet 'dispatcherServlet'
[20250123 20:17:00:826][INFO ][o.s.web.servlet.DispatcherServlet] Completed initialization in 232 ms
[20250123 20:17:04:614][WARN ][o.a.catalina.util.SessionIdGeneratorBase] Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [318] milliseconds.
[20250123 20:17:05:228][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 20:17:06:859][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:17:07:214][INFO ][com.example.demo.service.UserService] 로그인 처리 시간 (DB 조회 후 Redis 저장): 500 ms
[20250123 20:17:08:016][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 20:17:08:022][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:17:08:097][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 20:17:08:110][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 20:17:08:118][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:17:09:818][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:17:09:857][DEBUG][org.hibernate.SQL] select c1_0.id,c1_0.created_at,c1_0.product_id,c1_0.quantity,c1_0.updated_at,c1_0.signup_id from cart c1_0 where c1_0.signup_id=?
[20250123 20:17:09:925][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:17:09:959][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 20:17:09:981][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 20:17:09:986][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 20:17:10:906][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:17:10:924][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 20:17:11:113][INFO ][com.example.demo.service.RedisService] Sent cart items to queue: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:17:11:395][INFO ][c.e.demo.service.CartMessageListener] [onMessage] RabbitMQ에서 메시지 수신: "Cart updated for user: uaua2222"
[20250123 20:17:11:397][WARN ][c.e.demo.service.CartMessageListener] [onMessage] 비 JSON 메시지 수신: "Cart updated for user: uaua2222"
[20250123 20:17:51:392][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:17:51:402][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 20:17:51:403][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 20:17:51:415][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@769518be, com.example.demo.dto.CartItemDTO@7f8e57f7, com.example.demo.dto.CartItemDTO@6b4ed653]
[20250123 20:17:51:417][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@769518be, com.example.demo.dto.CartItemDTO@7f8e57f7, com.example.demo.dto.CartItemDTO@6b4ed653]
[20250123 20:17:51:423][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:17:51:432][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 20:18:51:447][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:18:51:690][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 20:18:51:707][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 20:18:51:749][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@75809c33, com.example.demo.dto.CartItemDTO@1b7acb16, com.example.demo.dto.CartItemDTO@4aadbd02]
[20250123 20:18:51:760][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@75809c33, com.example.demo.dto.CartItemDTO@1b7acb16, com.example.demo.dto.CartItemDTO@4aadbd02]
[20250123 20:18:51:778][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:18:51:885][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 20:19:51:396][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:19:51:409][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 20:19:51:413][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 20:19:51:440][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@47f5aed2, com.example.demo.dto.CartItemDTO@36e5c31b, com.example.demo.dto.CartItemDTO@7b0a9caa]
[20250123 20:19:51:446][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@47f5aed2, com.example.demo.dto.CartItemDTO@36e5c31b, com.example.demo.dto.CartItemDTO@7b0a9caa]
[20250123 20:19:51:457][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:19:51:463][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 20:20:51:406][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:20:51:406][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 20:20:51:406][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 20:20:51:630][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@2e642dc5, com.example.demo.dto.CartItemDTO@1241b6f, com.example.demo.dto.CartItemDTO@1e88e364]
[20250123 20:20:51:647][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@2e642dc5, com.example.demo.dto.CartItemDTO@1241b6f, com.example.demo.dto.CartItemDTO@1e88e364]
[20250123 20:20:51:653][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:20:51:662][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 20:21:51:394][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:21:51:394][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 20:21:51:394][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 20:21:51:407][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@2659fcd5, com.example.demo.dto.CartItemDTO@29dce7de, com.example.demo.dto.CartItemDTO@8027ee9]
[20250123 20:21:51:408][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@2659fcd5, com.example.demo.dto.CartItemDTO@29dce7de, com.example.demo.dto.CartItemDTO@8027ee9]
[20250123 20:21:51:409][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:21:51:412][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 20:22:51:419][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:22:51:575][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 20:22:51:575][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 20:22:51:592][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@51c82f4e, com.example.demo.dto.CartItemDTO@381ecef6, com.example.demo.dto.CartItemDTO@76323c3c]
[20250123 20:22:51:610][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@51c82f4e, com.example.demo.dto.CartItemDTO@381ecef6, com.example.demo.dto.CartItemDTO@76323c3c]
[20250123 20:22:51:615][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:22:51:642][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 20:23:51:400][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:23:51:400][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 20:23:51:400][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 20:23:51:400][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@6ddce125, com.example.demo.dto.CartItemDTO@7d7e118f, com.example.demo.dto.CartItemDTO@33d919a8]
[20250123 20:23:51:400][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@6ddce125, com.example.demo.dto.CartItemDTO@7d7e118f, com.example.demo.dto.CartItemDTO@33d919a8]
[20250123 20:23:51:400][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:23:51:416][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 20:24:21:165][INFO ][io.lettuce.core.protocol.CommandHandler] null Unexpected exception during request: java.net.SocketException: Connection reset
java.net.SocketException: Connection reset
	at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:394)
	at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:426)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:255)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:356)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:833)
[20250123 20:31:51:578][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 10708 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 20:31:51:587][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 20:31:51:988][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 20:31:51:991][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 20:33:48:258][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 10088 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 20:33:48:273][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 20:33:48:579][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 20:33:48:579][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 20:33:53:817][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 20:33:53:834][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[20250123 20:33:54:700][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 821 ms. Found 5 JPA repository interfaces.
[20250123 20:33:54:787][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 20:33:54:792][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[20250123 20:33:54:853][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:33:54:853][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:33:54:853][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.TossPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:33:54:853][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:33:54:869][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.WebPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:33:54:871][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 37 ms. Found 0 Redis repository interfaces.
[20250123 20:33:57:275][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat initialized with port 8083 (http)
[20250123 20:33:57:325][INFO ][o.apache.coyote.http11.Http11NioProtocol] Initializing ProtocolHandler ["http-nio-8083"]
[20250123 20:33:57:349][INFO ][o.apache.catalina.core.StandardService] Starting service [Tomcat]
[20250123 20:33:57:349][INFO ][org.apache.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.31]
[20250123 20:33:57:612][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[20250123 20:33:57:612][INFO ][o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 9033 ms
[20250123 20:33:58:419][INFO ][o.hibernate.jpa.internal.util.LogHelper] HHH000204: Processing PersistenceUnitInfo [name: default]
[20250123 20:33:59:367][INFO ][org.hibernate.Version] HHH000412: Hibernate ORM core version 6.5.3.Final
[20250123 20:33:59:516][INFO ][o.h.c.internal.RegionFactoryInitiator] HHH000026: Second-level cache disabled
[20250123 20:34:00:765][INFO ][o.s.o.j.p.SpringPersistenceUnitInfo] No LoadTimeWeaver setup: ignoring JPA class transformer
[20250123 20:34:01:057][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[20250123 20:34:01:855][INFO ][com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@61d3103
[20250123 20:34:01:865][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[20250123 20:34:02:174][WARN ][org.hibernate.orm.deprecation] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[20250123 20:34:02:302][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@262ee414) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@20cc0cf)
[20250123 20:34:02:302][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1216becb) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2be49f08)
[20250123 20:34:02:302][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7abbd024) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1e556d04)
[20250123 20:34:02:302][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@399278e3) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3681ac06)
[20250123 20:34:02:316][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@121f7002) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@27170208)
[20250123 20:34:02:319][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@d683369) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@36324f5e)
[20250123 20:34:02:319][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5f44a6fa) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@40dce858)
[20250123 20:34:02:334][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@c637851) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@280f9e3c)
[20250123 20:34:02:371][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@52068eb1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@75bf2281)
[20250123 20:34:05:116][INFO ][o.h.e.t.j.p.i.JtaPlatformInitiator] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[20250123 20:34:05:470][INFO ][o.s.o.j.LocalContainerEntityManagerFactoryBean] Initialized JPA EntityManagerFactory for persistence unit 'default'
[20250123 20:34:10:700][WARN ][o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[20250123 20:34:12:493][INFO ][o.s.b.a.w.s.WelcomePageHandlerMapping] Adding welcome page template: index
[20250123 20:34:20:869][INFO ][o.s.b.d.a.OptionalLiveReloadServer] LiveReload server is running on port 35729
[20250123 20:34:21:137][INFO ][o.apache.coyote.http11.Http11NioProtocol] Starting ProtocolHandler ["http-nio-8083"]
[20250123 20:34:21:315][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat started on port 8083 (http) with context path '/'
[20250123 20:34:21:333][INFO ][o.s.a.r.c.CachingConnectionFactory] Attempting to connect to: [localhost:5672]
[20250123 20:34:26:528][INFO ][o.s.a.r.c.CachingConnectionFactory] Created new connection: rabbitConnectionFactory#7f9820d6:0/SimpleConnection@5d813c50 [delegate=amqp://guest@127.0.0.1:5672/, localPort=51171]
[20250123 20:34:26:730][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Starting...
[20250123 20:34:26:733][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2adbdb74]]
[20250123 20:34:26:737][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Started.
[20250123 20:34:26:779][INFO ][com.example.demo.DemoApplication] Started DemoApplication in 40.6 seconds (process running for 62.989)
[20250123 20:34:26:824][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:35:03:484][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring DispatcherServlet 'dispatcherServlet'
[20250123 20:35:03:484][INFO ][o.s.web.servlet.DispatcherServlet] Initializing Servlet 'dispatcherServlet'
[20250123 20:35:03:495][INFO ][o.s.web.servlet.DispatcherServlet] Completed initialization in 11 ms
[20250123 20:35:04:929][WARN ][o.a.catalina.util.SessionIdGeneratorBase] Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [327] milliseconds.
[20250123 20:35:05:010][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 20:35:21:033][INFO ][o.s.w.s.c.WebSocketMessageBrokerStats] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 1, completed tasks = 1]
[20250123 20:35:26:782][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:36:14:014][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:36:14:176][INFO ][com.example.demo.service.UserService] 로그인 처리 시간 (DB 조회 후 Redis 저장): 254 ms
[20250123 20:36:20:237][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 20:36:20:242][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:36:20:347][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 20:36:20:359][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 20:36:20:375][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:36:21:404][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:36:21:669][DEBUG][org.hibernate.SQL] select c1_0.id,c1_0.created_at,c1_0.product_id,c1_0.quantity,c1_0.updated_at,c1_0.signup_id from cart c1_0 where c1_0.signup_id=?
[20250123 20:36:21:716][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:36:21:743][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 20:36:21:758][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 20:36:21:762][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 20:36:26:190][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:36:26:209][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 20:36:26:310][INFO ][com.example.demo.service.RedisService] Sent cart items to queue: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:36:26:429][INFO ][c.e.demo.service.CartMessageListener] [onMessage] RabbitMQ에서 메시지 수신: "Cart updated for user: uaua2222"
[20250123 20:36:26:431][WARN ][c.e.demo.service.CartMessageListener] [onMessage] 비 JSON 메시지 수신: "Cart updated for user: uaua2222"
[20250123 20:36:26:794][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:36:26:797][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 20:36:26:798][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 20:36:26:800][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@4e22833a, com.example.demo.dto.CartItemDTO@7905f970, com.example.demo.dto.CartItemDTO@4ea85331]
[20250123 20:36:26:802][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@4e22833a, com.example.demo.dto.CartItemDTO@7905f970, com.example.demo.dto.CartItemDTO@4ea85331]
[20250123 20:36:26:805][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:36:26:807][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 20:36:26:869][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@f4ea8cd]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 20:36:27:036][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@612fddc8(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=1, consumerTag=amq.ctag-yF5JWDWoomSQ8pr_T4TSxQ, consumerQueue=cart-queue])
[20250123 20:36:27:039][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@f4ea8cd]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 20:37:26:824][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:37:27:064][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 20:37:27:075][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 20:37:27:121][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@356ed1c9, com.example.demo.dto.CartItemDTO@6f8fbf0d, com.example.demo.dto.CartItemDTO@391715f5]
[20250123 20:37:27:129][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@356ed1c9, com.example.demo.dto.CartItemDTO@6f8fbf0d, com.example.demo.dto.CartItemDTO@391715f5]
[20250123 20:37:27:141][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:37:27:175][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 20:37:27:213][INFO ][c.e.demo.service.CartMessageListener] [onMessage] RabbitMQ에서 메시지 수신: "[{\"productName\":\"아디다스 티셔츠\",\"productPrice\":88000.0,\"quantity\":2,\"totalPrice\":176000.0,\"productId\":2,\"userId\":\"uaua2222\"},{\"productName\":\"퓨마 후드티\",\"productPrice\":99000.0,\"quantity\":3,\"totalPrice\":297000.0,\"productId\":3,\"userId\":\"uaua2222\"},{\"productName\":\"나이키 운동화\",\"productPrice\":55000.0,\"quantity\":13,\"totalPrice\":660000.0,\"productId\":5,\"userId\":\"uaua2222\"}]"
[20250123 20:37:27:217][WARN ][c.e.demo.service.CartMessageListener] [onMessage] 비 JSON 메시지 수신: "[{\"productName\":\"아디다스 티셔츠\",\"productPrice\":88000.0,\"quantity\":2,\"totalPrice\":176000.0,\"productId\":2,\"userId\":\"uaua2222\"},{\"productName\":\"퓨마 후드티\",\"productPrice\":99000.0,\"quantity\":3,\"totalPrice\":297000.0,\"productId\":3,\"userId\":\"uaua2222\"},{\"productName\":\"나이키 운동화\",\"productPrice\":55000.0,\"quantity\":13,\"totalPrice\":660000.0,\"productId\":5,\"userId\":\"uaua2222\"}]"
[20250123 20:38:26:791][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:38:26:791][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 20:38:26:791][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 20:38:26:803][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@35aae83d, com.example.demo.dto.CartItemDTO@760997d8, com.example.demo.dto.CartItemDTO@64ec39c3]
[20250123 20:38:26:805][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@35aae83d, com.example.demo.dto.CartItemDTO@760997d8, com.example.demo.dto.CartItemDTO@64ec39c3]
[20250123 20:38:26:807][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:38:26:819][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 20:38:27:128][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@f4ea8cd]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 20:38:27:261][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@2efe7754(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=2, consumerTag=amq.ctag-yF5JWDWoomSQ8pr_T4TSxQ, consumerQueue=cart-queue])
[20250123 20:38:27:271][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@f4ea8cd]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 20:38:55:785][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:38:55:917][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 20:38:56:023][INFO ][com.example.demo.service.RedisService] Sent cart items to queue: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":14,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:38:56:067][INFO ][c.e.demo.service.CartMessageListener] [onMessage] RabbitMQ에서 메시지 수신: "Cart updated for user: uaua2222"
[20250123 20:38:56:068][WARN ][c.e.demo.service.CartMessageListener] [onMessage] 비 JSON 메시지 수신: "Cart updated for user: uaua2222"
[20250123 20:39:26:786][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:39:26:787][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 20:39:26:787][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 20:39:26:801][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@65aa56fd, com.example.demo.dto.CartItemDTO@41272f49, com.example.demo.dto.CartItemDTO@14391330]
[20250123 20:39:26:810][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@65aa56fd, com.example.demo.dto.CartItemDTO@41272f49, com.example.demo.dto.CartItemDTO@14391330]
[20250123 20:39:26:814][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":14,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:39:26:818][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 20:39:26:833][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@f4ea8cd]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":14,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 20:39:26:875][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@4e0ce0cb(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=3, consumerTag=amq.ctag-yF5JWDWoomSQ8pr_T4TSxQ, consumerQueue=cart-queue])
[20250123 20:39:26:878][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@f4ea8cd]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":14,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 20:52:32:138][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 9260 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 20:52:32:152][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 20:52:32:585][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 20:52:32:591][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 20:54:47:625][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 14380 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 20:54:47:634][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 20:54:47:862][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 20:54:47:864][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 20:54:57:922][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 20:54:57:938][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[20250123 20:54:59:613][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 1641 ms. Found 5 JPA repository interfaces.
[20250123 20:54:59:962][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 20:55:01:003][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[20250123 20:55:02:894][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:55:02:896][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:55:02:898][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.TossPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:55:02:900][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:55:02:905][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.WebPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:55:02:906][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
[20250123 20:57:32:480][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 20220 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 20:57:32:505][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 20:57:32:914][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 20:57:32:921][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 20:57:48:382][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 20:57:48:402][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[20250123 20:57:48:917][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 483 ms. Found 5 JPA repository interfaces.
[20250123 20:57:49:048][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 20:57:49:048][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[20250123 20:57:49:120][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:57:49:122][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:57:49:125][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.TossPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:57:49:128][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:57:49:137][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.WebPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 20:57:49:141][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 43 ms. Found 0 Redis repository interfaces.
[20250123 20:57:55:394][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat initialized with port 8083 (http)
[20250123 20:57:55:435][INFO ][o.apache.coyote.http11.Http11NioProtocol] Initializing ProtocolHandler ["http-nio-8083"]
[20250123 20:57:55:446][INFO ][o.apache.catalina.core.StandardService] Starting service [Tomcat]
[20250123 20:57:55:451][INFO ][org.apache.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.31]
[20250123 20:57:55:627][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[20250123 20:57:55:627][INFO ][o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 22675 ms
[20250123 20:57:55:991][INFO ][o.hibernate.jpa.internal.util.LogHelper] HHH000204: Processing PersistenceUnitInfo [name: default]
[20250123 20:57:56:215][INFO ][org.hibernate.Version] HHH000412: Hibernate ORM core version 6.5.3.Final
[20250123 20:57:56:371][INFO ][o.h.c.internal.RegionFactoryInitiator] HHH000026: Second-level cache disabled
[20250123 20:57:57:512][INFO ][o.s.o.j.p.SpringPersistenceUnitInfo] No LoadTimeWeaver setup: ignoring JPA class transformer
[20250123 20:57:57:628][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[20250123 20:57:58:745][INFO ][com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@df00701
[20250123 20:57:58:753][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[20250123 20:57:58:943][WARN ][org.hibernate.orm.deprecation] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[20250123 20:57:59:016][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6011d350) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3ccafc39)
[20250123 20:57:59:017][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4558f822) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@68493b2f)
[20250123 20:57:59:019][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@62cfe25) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6dece1ed)
[20250123 20:57:59:021][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6ff78d9a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4ec65308)
[20250123 20:57:59:023][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2f7a4123) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@25133ea8)
[20250123 20:57:59:024][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@765bfccd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@af9af1d)
[20250123 20:57:59:026][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@77f78438) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4bad1210)
[20250123 20:57:59:028][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6239223c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@257ff821)
[20250123 20:57:59:034][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6e626ef2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4dfcdcbc)
[20250123 20:58:11:411][INFO ][o.h.e.t.j.p.i.JtaPlatformInitiator] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[20250123 20:58:17:208][INFO ][o.s.o.j.LocalContainerEntityManagerFactoryBean] Initialized JPA EntityManagerFactory for persistence unit 'default'
[20250123 20:58:30:819][WARN ][o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[20250123 20:58:32:323][INFO ][o.s.b.a.w.s.WelcomePageHandlerMapping] Adding welcome page template: index
[20250123 20:58:34:935][INFO ][o.s.b.d.a.OptionalLiveReloadServer] LiveReload server is running on port 35729
[20250123 20:58:35:050][INFO ][o.apache.coyote.http11.Http11NioProtocol] Starting ProtocolHandler ["http-nio-8083"]
[20250123 20:58:35:144][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat started on port 8083 (http) with context path '/'
[20250123 20:58:35:149][INFO ][o.s.a.r.c.CachingConnectionFactory] Attempting to connect to: [localhost:5672]
[20250123 20:58:35:678][INFO ][o.s.a.r.c.CachingConnectionFactory] Created new connection: rabbitConnectionFactory#3644befc:0/SimpleConnection@4b732ff [delegate=amqp://guest@127.0.0.1:5672/, localPort=53759]
[20250123 20:58:36:470][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring DispatcherServlet 'dispatcherServlet'
[20250123 20:58:36:471][INFO ][o.s.web.servlet.DispatcherServlet] Initializing Servlet 'dispatcherServlet'
[20250123 20:58:36:483][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Starting...
[20250123 20:58:36:486][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3d4776c0]]
[20250123 20:58:36:488][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Started.
[20250123 20:58:36:490][INFO ][o.s.web.servlet.DispatcherServlet] Completed initialization in 18 ms
[20250123 20:58:36:706][INFO ][com.example.demo.DemoApplication] Started DemoApplication in 69.996 seconds (process running for 76.643)
[20250123 20:58:36:751][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:58:41:650][WARN ][o.a.catalina.util.SessionIdGeneratorBase] Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [2,597] milliseconds.
[20250123 20:58:41:960][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 20:58:49:914][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:58:50:131][INFO ][com.example.demo.service.UserService] 로그인 처리 시간 (DB 조회 후 Redis 저장): 286 ms
[20250123 20:58:55:309][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 20:58:55:317][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:58:55:547][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 20:58:55:555][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:58:55:575][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 20:58:59:206][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:58:59:259][DEBUG][org.hibernate.SQL] select c1_0.id,c1_0.created_at,c1_0.product_id,c1_0.quantity,c1_0.updated_at,c1_0.signup_id from cart c1_0 where c1_0.signup_id=?
[20250123 20:59:00:024][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:59:00:087][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 20:59:00:130][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 20:59:00:134][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 20:59:01:266][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 20:59:01:352][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 20:59:01:451][INFO ][com.example.demo.service.RedisService] Sent cart items to queue: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:59:01:547][INFO ][c.e.demo.service.CartMessageListener] [onMessage] RabbitMQ에서 메시지 수신: "Cart updated for user: uaua2222"
[20250123 20:59:01:549][WARN ][c.e.demo.service.CartMessageListener] [onMessage] 비 JSON 메시지 수신: "Cart updated for user: uaua2222"
[20250123 20:59:34:980][INFO ][o.s.w.s.c.WebSocketMessageBrokerStats] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 1, completed tasks = 1]
[20250123 20:59:36:692][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 20:59:36:692][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 20:59:36:692][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 20:59:36:702][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@63f378fe, com.example.demo.dto.CartItemDTO@7c40eded, com.example.demo.dto.CartItemDTO@784c8a31]
[20250123 20:59:36:703][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@63f378fe, com.example.demo.dto.CartItemDTO@7c40eded, com.example.demo.dto.CartItemDTO@784c8a31]
[20250123 20:59:36:705][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 20:59:36:713][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 20:59:36:743][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@3440ee64]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 20:59:36:812][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@24f1aaa7(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=1, consumerTag=amq.ctag-OrAkzsUJmwvCJtrLfJUuYA, consumerQueue=cart-queue])
[20250123 20:59:36:815][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@3440ee64]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 21:00:36:691][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 21:00:36:702][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 21:00:36:703][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 21:00:36:721][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@1645137c, com.example.demo.dto.CartItemDTO@5440349d, com.example.demo.dto.CartItemDTO@4638d2fe]
[20250123 21:00:36:730][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@1645137c, com.example.demo.dto.CartItemDTO@5440349d, com.example.demo.dto.CartItemDTO@4638d2fe]
[20250123 21:00:36:760][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 21:00:36:774][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 21:00:36:849][INFO ][c.e.demo.service.CartMessageListener] [onMessage] RabbitMQ에서 메시지 수신: "[{\"productName\":\"아디다스 티셔츠\",\"productPrice\":88000.0,\"quantity\":2,\"totalPrice\":176000.0,\"productId\":2,\"userId\":\"uaua2222\"},{\"productName\":\"퓨마 후드티\",\"productPrice\":99000.0,\"quantity\":3,\"totalPrice\":297000.0,\"productId\":3,\"userId\":\"uaua2222\"},{\"productName\":\"나이키 운동화\",\"productPrice\":55000.0,\"quantity\":13,\"totalPrice\":660000.0,\"productId\":5,\"userId\":\"uaua2222\"}]"
[20250123 21:00:36:853][WARN ][c.e.demo.service.CartMessageListener] [onMessage] 비 JSON 메시지 수신: "[{\"productName\":\"아디다스 티셔츠\",\"productPrice\":88000.0,\"quantity\":2,\"totalPrice\":176000.0,\"productId\":2,\"userId\":\"uaua2222\"},{\"productName\":\"퓨마 후드티\",\"productPrice\":99000.0,\"quantity\":3,\"totalPrice\":297000.0,\"productId\":3,\"userId\":\"uaua2222\"},{\"productName\":\"나이키 운동화\",\"productPrice\":55000.0,\"quantity\":13,\"totalPrice\":660000.0,\"productId\":5,\"userId\":\"uaua2222\"}]"
[20250123 21:03:59:723][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 10476 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 21:03:59:956][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 21:04:00:217][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 21:04:00:332][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 21:04:06:397][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 21:04:06:422][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[20250123 21:04:17:449][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 10930 ms. Found 5 JPA repository interfaces.
[20250123 21:04:17:665][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 21:04:17:694][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[20250123 21:04:17:824][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 21:04:17:836][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 21:04:17:853][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.TossPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 21:04:17:877][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 21:04:17:898][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.WebPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 21:04:17:940][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 175 ms. Found 0 Redis repository interfaces.
[20250123 21:04:23:404][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat initialized with port 8083 (http)
[20250123 21:04:23:467][INFO ][o.apache.coyote.http11.Http11NioProtocol] Initializing ProtocolHandler ["http-nio-8083"]
[20250123 21:04:23:482][INFO ][o.apache.catalina.core.StandardService] Starting service [Tomcat]
[20250123 21:04:23:501][INFO ][org.apache.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.31]
[20250123 21:04:23:874][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[20250123 21:04:23:874][INFO ][o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 23389 ms
[20250123 21:04:24:748][INFO ][o.hibernate.jpa.internal.util.LogHelper] HHH000204: Processing PersistenceUnitInfo [name: default]
[20250123 21:04:25:084][INFO ][org.hibernate.Version] HHH000412: Hibernate ORM core version 6.5.3.Final
[20250123 21:04:25:259][INFO ][o.h.c.internal.RegionFactoryInitiator] HHH000026: Second-level cache disabled
[20250123 21:04:39:534][INFO ][o.s.o.j.p.SpringPersistenceUnitInfo] No LoadTimeWeaver setup: ignoring JPA class transformer
[20250123 21:04:39:644][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[20250123 21:04:40:633][INFO ][com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c678048
[20250123 21:04:40:642][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[20250123 21:04:41:055][WARN ][org.hibernate.orm.deprecation] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[20250123 21:04:41:144][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6239223c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@257ff821)
[20250123 21:04:41:160][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6e626ef2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4dfcdcbc)
[20250123 21:04:41:162][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@66ff3ffd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3c9b7df3)
[20250123 21:04:41:164][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4173816c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6ac1acc2)
[20250123 21:04:41:166][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@755e66b0) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@124df90d)
[20250123 21:04:41:169][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4fe862c9) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@28a8604a)
[20250123 21:04:41:173][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2e45e809) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@53bde95d)
[20250123 21:04:41:213][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5fcf27c9) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@340eb64a)
[20250123 21:04:41:236][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@358a1562) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@941f58f)
[20250123 21:04:44:249][INFO ][o.h.e.t.j.p.i.JtaPlatformInitiator] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[20250123 21:04:44:776][INFO ][o.s.o.j.LocalContainerEntityManagerFactoryBean] Initialized JPA EntityManagerFactory for persistence unit 'default'
[20250123 21:04:48:553][WARN ][o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[20250123 21:04:48:805][INFO ][o.s.b.a.w.s.WelcomePageHandlerMapping] Adding welcome page template: index
[20250123 21:04:50:009][INFO ][o.s.b.d.a.OptionalLiveReloadServer] LiveReload server is running on port 35729
[20250123 21:04:50:108][INFO ][o.apache.coyote.http11.Http11NioProtocol] Starting ProtocolHandler ["http-nio-8083"]
[20250123 21:04:50:186][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat started on port 8083 (http) with context path '/'
[20250123 21:04:50:198][INFO ][o.s.a.r.c.CachingConnectionFactory] Attempting to connect to: [localhost:5672]
[20250123 21:04:50:629][INFO ][o.s.a.r.c.CachingConnectionFactory] Created new connection: rabbitConnectionFactory#11059744:0/SimpleConnection@1f00cfb6 [delegate=amqp://guest@127.0.0.1:5672/, localPort=54086]
[20250123 21:04:50:812][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Starting...
[20250123 21:04:50:814][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@703dfed3]]
[20250123 21:04:50:815][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Started.
[20250123 21:04:50:863][INFO ][com.example.demo.DemoApplication] Started DemoApplication in 61.56 seconds (process running for 72.522)
[20250123 21:04:50:880][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 21:04:52:973][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring DispatcherServlet 'dispatcherServlet'
[20250123 21:04:52:975][INFO ][o.s.web.servlet.DispatcherServlet] Initializing Servlet 'dispatcherServlet'
[20250123 21:04:52:978][INFO ][o.s.web.servlet.DispatcherServlet] Completed initialization in 2 ms
[20250123 21:04:56:805][WARN ][o.a.catalina.util.SessionIdGeneratorBase] Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [257] milliseconds.
[20250123 21:04:56:952][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 21:05:04:436][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 21:05:04:618][INFO ][com.example.demo.service.UserService] 로그인 처리 시간 (DB 조회 후 Redis 저장): 252 ms
[20250123 21:05:05:322][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 21:05:05:325][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 21:05:05:413][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 21:05:05:423][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 21:05:05:426][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 21:05:06:633][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 21:05:06:707][DEBUG][org.hibernate.SQL] select c1_0.id,c1_0.created_at,c1_0.product_id,c1_0.quantity,c1_0.updated_at,c1_0.signup_id from cart c1_0 where c1_0.signup_id=?
[20250123 21:05:06:754][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 21:05:06:787][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 21:05:06:787][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 21:05:06:803][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 21:05:08:058][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 21:05:09:213][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 21:05:09:287][INFO ][com.example.demo.service.RedisService] Sent cart items to queue: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 21:05:10:023][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{Cart updated for user: uaua2222}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 21:05:10:051][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'"Cart updated for user: uaua2222"' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.update, deliveryTag=1, consumerTag=amq.ctag-QRzpt0oo9JrMZFdbnQRTdw, consumerQueue=cart-queue])
[20250123 21:05:10:054][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{Cart updated for user: uaua2222}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 21:05:50:062][INFO ][o.s.w.s.c.WebSocketMessageBrokerStats] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 1, completed tasks = 1]
[20250123 21:05:50:871][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 21:05:50:877][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 21:05:50:880][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 21:05:50:888][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@5947a741, com.example.demo.dto.CartItemDTO@3e24fe1e, com.example.demo.dto.CartItemDTO@73629c17]
[20250123 21:05:50:892][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@5947a741, com.example.demo.dto.CartItemDTO@3e24fe1e, com.example.demo.dto.CartItemDTO@73629c17]
[20250123 21:05:50:898][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 21:05:50:903][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 21:05:50:921][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@67cd47b0]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 21:05:50:943][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@af54694(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=1, consumerTag=amq.ctag-cg-QXuxivtKUfUW3FGGDxQ, consumerQueue=cart-queue])
[20250123 21:05:50:945][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@67cd47b0]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 21:06:50:863][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 21:06:50:868][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 21:06:50:871][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 21:06:50:875][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@7ec46629, com.example.demo.dto.CartItemDTO@276f0237, com.example.demo.dto.CartItemDTO@4056437a]
[20250123 21:06:50:878][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@7ec46629, com.example.demo.dto.CartItemDTO@276f0237, com.example.demo.dto.CartItemDTO@4056437a]
[20250123 21:06:50:880][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 21:06:50:885][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 21:06:51:437][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 21:06:51:449][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@790c7a73(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=2, consumerTag=amq.ctag-QRzpt0oo9JrMZFdbnQRTdw, consumerQueue=cart-queue])
[20250123 21:06:51:449][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 22:58:53:968][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 17912 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 22:58:53:968][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 22:58:54:145][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 22:58:54:145][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 22:58:58:516][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 22:58:58:547][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[20250123 22:58:59:038][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 428 ms. Found 5 JPA repository interfaces.
[20250123 22:58:59:103][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 22:58:59:109][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[20250123 22:58:59:155][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 22:58:59:155][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 22:58:59:172][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.TossPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 22:58:59:172][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 22:58:59:172][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.WebPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 22:58:59:189][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 45 ms. Found 0 Redis repository interfaces.
[20250123 22:59:01:379][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat initialized with port 8083 (http)
[20250123 22:59:01:420][INFO ][o.apache.coyote.http11.Http11NioProtocol] Initializing ProtocolHandler ["http-nio-8083"]
[20250123 22:59:01:437][INFO ][o.apache.catalina.core.StandardService] Starting service [Tomcat]
[20250123 22:59:01:439][INFO ][org.apache.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.31]
[20250123 22:59:01:676][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[20250123 22:59:01:676][INFO ][o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 7531 ms
[20250123 22:59:02:124][INFO ][o.hibernate.jpa.internal.util.LogHelper] HHH000204: Processing PersistenceUnitInfo [name: default]
[20250123 22:59:02:385][INFO ][org.hibernate.Version] HHH000412: Hibernate ORM core version 6.5.3.Final
[20250123 22:59:02:564][INFO ][o.h.c.internal.RegionFactoryInitiator] HHH000026: Second-level cache disabled
[20250123 22:59:03:638][INFO ][o.s.o.j.p.SpringPersistenceUnitInfo] No LoadTimeWeaver setup: ignoring JPA class transformer
[20250123 22:59:03:752][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[20250123 22:59:05:020][WARN ][o.h.engine.jdbc.spi.SqlExceptionHelper] SQL Error: 0, SQLState: 08S01
[20250123 22:59:05:020][ERROR][o.h.engine.jdbc.spi.SqlExceptionHelper] Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
[20250123 22:59:05:020][WARN ][o.h.e.j.e.i.JdbcEnvironmentInitiator] HHH000342: Could not obtain connection to query metadata
org.hibernate.exception.JDBCConnectionException: unable to obtain isolated JDBC connection [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:292)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:124)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:78)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:221)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:189)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1431)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1502)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.demo.DemoApplication.main(DemoApplication.java:9)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	... 40 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:88)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:120)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:935)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:805)
	... 53 common frames omitted
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:62)
	... 56 common frames omitted
[20250123 22:59:05:107][WARN ][org.hibernate.orm.deprecation] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[20250123 22:59:05:145][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4ae9ce67) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7dc6b28a)
[20250123 22:59:05:145][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1ca8f971) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6e4d512b)
[20250123 22:59:05:145][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6a533073) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@22499d51)
[20250123 22:59:05:145][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@79f19b18) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7d315904)
[20250123 22:59:05:145][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@e922e79) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@60df99ef)
[20250123 22:59:05:162][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1503f7b7) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@620d756a)
[20250123 22:59:05:162][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@7d736eb4) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@617f9014)
[20250123 22:59:05:162][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6bcb6dc3) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@62e4e3f5)
[20250123 22:59:05:162][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@40437d3) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1966f877)
[20250123 22:59:07:442][INFO ][o.h.e.t.j.p.i.JtaPlatformInitiator] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[20250123 22:59:07:509][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[20250123 22:59:08:533][WARN ][o.h.engine.jdbc.spi.SqlExceptionHelper] SQL Error: 0, SQLState: 08S01
[20250123 22:59:08:533][ERROR][o.h.engine.jdbc.spi.SqlExceptionHelper] Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
[20250123 22:59:08:533][ERROR][o.s.o.j.LocalContainerEntityManagerFactoryBean] Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
[20250123 22:59:08:547][WARN ][o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
[20250123 22:59:08:560][INFO ][o.apache.catalina.core.StandardService] Stopping service [Tomcat]
[20250123 22:59:08:602][INFO ][o.s.b.a.l.ConditionEvaluationReportLogger] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[20250123 22:59:08:699][ERROR][o.springframework.boot.SpringApplication] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.demo.DemoApplication.main(DemoApplication.java:9)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 20 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:70)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:65)
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTables(AbstractInformationExtractorImpl.java:570)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:122)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:72)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:240)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:119)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 24 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 45 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:88)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:120)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:935)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:805)
	... 58 common frames omitted
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:62)
	... 61 common frames omitted
[20250123 23:02:16:430][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 15220 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 23:02:16:442][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 23:02:16:724][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 23:02:16:726][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 23:02:19:599][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 23:02:19:603][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[20250123 23:02:19:945][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 326 ms. Found 5 JPA repository interfaces.
[20250123 23:02:20:010][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 23:02:20:014][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[20250123 23:02:20:080][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:02:20:082][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:02:20:088][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.TossPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:02:20:094][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:02:20:104][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.WebPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:02:20:111][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 62 ms. Found 0 Redis repository interfaces.
[20250123 23:02:22:364][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat initialized with port 8083 (http)
[20250123 23:02:22:432][INFO ][o.apache.coyote.http11.Http11NioProtocol] Initializing ProtocolHandler ["http-nio-8083"]
[20250123 23:02:22:548][INFO ][o.apache.catalina.core.StandardService] Starting service [Tomcat]
[20250123 23:02:22:560][INFO ][org.apache.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.31]
[20250123 23:02:22:970][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[20250123 23:02:22:973][INFO ][o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 6244 ms
[20250123 23:02:23:923][INFO ][o.hibernate.jpa.internal.util.LogHelper] HHH000204: Processing PersistenceUnitInfo [name: default]
[20250123 23:02:24:174][INFO ][org.hibernate.Version] HHH000412: Hibernate ORM core version 6.5.3.Final
[20250123 23:02:24:280][INFO ][o.h.c.internal.RegionFactoryInitiator] HHH000026: Second-level cache disabled
[20250123 23:02:25:506][INFO ][o.s.o.j.p.SpringPersistenceUnitInfo] No LoadTimeWeaver setup: ignoring JPA class transformer
[20250123 23:02:25:666][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[20250123 23:02:26:879][WARN ][o.h.engine.jdbc.spi.SqlExceptionHelper] SQL Error: 0, SQLState: 08S01
[20250123 23:02:26:880][ERROR][o.h.engine.jdbc.spi.SqlExceptionHelper] Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
[20250123 23:02:26:887][WARN ][o.h.e.j.e.i.JdbcEnvironmentInitiator] HHH000342: Could not obtain connection to query metadata
org.hibernate.exception.JDBCConnectionException: unable to obtain isolated JDBC connection [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:292)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:124)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:78)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:221)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:189)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1431)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1502)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.demo.DemoApplication.main(DemoApplication.java:9)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	... 40 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:88)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:120)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:935)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:805)
	... 53 common frames omitted
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:62)
	... 56 common frames omitted
[20250123 23:02:26:996][WARN ][org.hibernate.orm.deprecation] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[20250123 23:02:27:041][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6f42ddb8) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5e4b0cba)
[20250123 23:02:27:043][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@334e073b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@34b2a06d)
[20250123 23:02:27:045][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4de4045e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4b4cff84)
[20250123 23:02:27:046][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@8784e09) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@29e826a3)
[20250123 23:02:27:052][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@44430134) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@685f76e7)
[20250123 23:02:27:055][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@221d75e3) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4a28923d)
[20250123 23:02:27:057][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@16be60ed) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5c5c493)
[20250123 23:02:27:059][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@4cbe0ba5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4289c175)
[20250123 23:02:27:061][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@27d568c1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@c9fd1f4)
[20250123 23:02:29:227][INFO ][o.h.e.t.j.p.i.JtaPlatformInitiator] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[20250123 23:02:29:290][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[20250123 23:02:30:295][WARN ][o.h.engine.jdbc.spi.SqlExceptionHelper] SQL Error: 0, SQLState: 08S01
[20250123 23:02:30:299][ERROR][o.h.engine.jdbc.spi.SqlExceptionHelper] Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
[20250123 23:02:30:328][ERROR][o.s.o.j.LocalContainerEntityManagerFactoryBean] Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
[20250123 23:02:30:334][WARN ][o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
[20250123 23:02:30:342][INFO ][o.apache.catalina.core.StandardService] Stopping service [Tomcat]
[20250123 23:02:30:370][INFO ][o.s.b.a.l.ConditionEvaluationReportLogger] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[20250123 23:02:30:419][ERROR][o.springframework.boot.SpringApplication] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1806)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:954)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.demo.DemoApplication.main(DemoApplication.java:9)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1802)
	... 20 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcDatabaseMetaData(ImprovedExtractionContextImpl.java:70)
	at org.hibernate.tool.schema.extract.internal.InformationExtractorJdbcDatabaseMetaDataImpl.processTableResultSet(InformationExtractorJdbcDatabaseMetaDataImpl.java:65)
	at org.hibernate.tool.schema.extract.internal.AbstractInformationExtractorImpl.getTables(AbstractInformationExtractorImpl.java:570)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.getTablesInformation(DatabaseInformationImpl.java:122)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:72)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:240)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:119)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:322)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:457)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 24 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 45 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:88)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:120)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:935)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:805)
	... 58 common frames omitted
Caused by: java.net.ConnectException: Connection refused: no further information
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:62)
	... 61 common frames omitted
[20250123 23:08:04:753][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 18376 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 23:08:04:761][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 23:08:05:049][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 23:08:05:052][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 23:08:11:197][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 17728 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 23:08:11:197][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 23:08:11:389][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 23:08:11:389][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 23:08:14:495][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 23:08:14:510][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[20250123 23:08:15:148][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 606 ms. Found 5 JPA repository interfaces.
[20250123 23:08:15:224][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 23:08:15:224][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[20250123 23:08:15:266][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:08:15:266][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:08:15:266][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.TossPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:08:15:266][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:08:15:283][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.WebPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:08:15:286][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
[20250123 23:08:17:985][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat initialized with port 8083 (http)
[20250123 23:08:18:063][INFO ][o.apache.coyote.http11.Http11NioProtocol] Initializing ProtocolHandler ["http-nio-8083"]
[20250123 23:08:18:084][INFO ][o.apache.catalina.core.StandardService] Starting service [Tomcat]
[20250123 23:08:18:087][INFO ][org.apache.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.31]
[20250123 23:08:18:329][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[20250123 23:08:18:329][INFO ][o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 6940 ms
[20250123 23:08:18:742][INFO ][o.hibernate.jpa.internal.util.LogHelper] HHH000204: Processing PersistenceUnitInfo [name: default]
[20250123 23:08:19:030][INFO ][org.hibernate.Version] HHH000412: Hibernate ORM core version 6.5.3.Final
[20250123 23:08:19:162][INFO ][o.h.c.internal.RegionFactoryInitiator] HHH000026: Second-level cache disabled
[20250123 23:08:20:238][INFO ][o.s.o.j.p.SpringPersistenceUnitInfo] No LoadTimeWeaver setup: ignoring JPA class transformer
[20250123 23:08:20:330][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[20250123 23:08:21:313][INFO ][com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@8ee6704
[20250123 23:08:21:313][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[20250123 23:08:21:497][WARN ][org.hibernate.orm.deprecation] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[20250123 23:08:21:574][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1e3ee16a) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@644dbff3)
[20250123 23:08:21:576][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@5f1eda6) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@40677e19)
[20250123 23:08:21:577][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@293bf2ce) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2000623d)
[20250123 23:08:21:579][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2a163746) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@51fa13ab)
[20250123 23:08:21:579][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@27a136d8) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@413b99b)
[20250123 23:08:21:579][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1f241258) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1ec22d5c)
[20250123 23:08:21:584][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@307bcfaa) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@293d675f)
[20250123 23:08:21:589][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@163406f2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@199371a5)
[20250123 23:08:21:592][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@77fbfba2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@353e7d9d)
[20250123 23:08:24:631][INFO ][o.h.e.t.j.p.i.JtaPlatformInitiator] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[20250123 23:08:24:894][INFO ][o.s.o.j.LocalContainerEntityManagerFactoryBean] Initialized JPA EntityManagerFactory for persistence unit 'default'
[20250123 23:08:29:093][WARN ][o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[20250123 23:08:29:403][INFO ][o.s.b.a.w.s.WelcomePageHandlerMapping] Adding welcome page template: index
[20250123 23:08:30:842][INFO ][o.s.b.d.a.OptionalLiveReloadServer] LiveReload server is running on port 35729
[20250123 23:08:30:936][INFO ][o.apache.coyote.http11.Http11NioProtocol] Starting ProtocolHandler ["http-nio-8083"]
[20250123 23:08:31:057][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat started on port 8083 (http) with context path '/'
[20250123 23:08:31:067][INFO ][o.s.a.r.c.CachingConnectionFactory] Attempting to connect to: [localhost:5672]
[20250123 23:08:31:843][INFO ][o.s.a.r.c.CachingConnectionFactory] Created new connection: rabbitConnectionFactory#306343a9:0/SimpleConnection@4819bba2 [delegate=amqp://guest@127.0.0.1:5672/, localPort=49356]
[20250123 23:08:32:005][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Starting...
[20250123 23:08:32:007][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@183929cf]]
[20250123 23:08:32:008][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Started.
[20250123 23:08:32:043][INFO ][com.example.demo.DemoApplication] Started DemoApplication in 22.418 seconds (process running for 23.385)
[20250123 23:08:32:052][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:08:35:650][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring DispatcherServlet 'dispatcherServlet'
[20250123 23:08:35:652][INFO ][o.s.web.servlet.DispatcherServlet] Initializing Servlet 'dispatcherServlet'
[20250123 23:08:35:656][INFO ][o.s.web.servlet.DispatcherServlet] Completed initialization in 3 ms
[20250123 23:08:38:299][WARN ][o.a.catalina.util.SessionIdGeneratorBase] Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [790] milliseconds.
[20250123 23:08:38:505][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 23:09:30:916][INFO ][o.s.w.s.c.WebSocketMessageBrokerStats] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 1, completed tasks = 1]
[20250123 23:09:32:039][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:10:30:247][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:10:30:449][INFO ][com.example.demo.service.UserService] 로그인 처리 시간 (DB 조회 후 Redis 저장): 264 ms
[20250123 23:10:31:650][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 23:10:31:670][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:10:31:787][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 23:10:31:796][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 23:10:31:805][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:10:32:038][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:10:33:096][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:10:33:143][DEBUG][org.hibernate.SQL] select c1_0.id,c1_0.created_at,c1_0.product_id,c1_0.quantity,c1_0.updated_at,c1_0.signup_id from cart c1_0 where c1_0.signup_id=?
[20250123 23:10:33:217][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:10:33:242][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 23:10:33:244][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 23:10:33:252][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 23:10:36:025][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:10:36:043][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 23:10:36:077][INFO ][com.example.demo.service.RedisService] Sent cart items to queue: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:10:36:222][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{Cart updated for user: uaua2222}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:10:36:290][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'"Cart updated for user: uaua2222"' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.update, deliveryTag=1, consumerTag=amq.ctag-uh2Z2guFQWd_umJc8dVL9A, consumerQueue=cart-queue])
[20250123 23:10:36:296][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{Cart updated for user: uaua2222}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:11:32:051][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:11:32:051][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 23:11:32:051][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 23:11:32:051][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@706ff4c8, com.example.demo.dto.CartItemDTO@7ea814b5, com.example.demo.dto.CartItemDTO@7a979fb8]
[20250123 23:11:32:051][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@706ff4c8, com.example.demo.dto.CartItemDTO@7ea814b5, com.example.demo.dto.CartItemDTO@7a979fb8]
[20250123 23:11:32:065][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:11:32:068][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 23:11:32:087][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@396fdd8c]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:11:32:100][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@6dd5e058(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=1, consumerTag=amq.ctag-SdCz3P5wte-gqD6KJJVQeg, consumerQueue=cart-queue])
[20250123 23:11:32:116][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@396fdd8c]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:12:32:056][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:12:32:057][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 23:12:32:057][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 23:12:32:057][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@551d5e56, com.example.demo.dto.CartItemDTO@5bdaaa85, com.example.demo.dto.CartItemDTO@5fe53526]
[20250123 23:12:32:057][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@551d5e56, com.example.demo.dto.CartItemDTO@5bdaaa85, com.example.demo.dto.CartItemDTO@5fe53526]
[20250123 23:12:32:057][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:12:32:067][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 23:12:32:072][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:12:32:074][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@5be43192(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=2, consumerTag=amq.ctag-uh2Z2guFQWd_umJc8dVL9A, consumerQueue=cart-queue])
[20250123 23:12:32:074][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:13:32:039][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:13:32:039][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 23:13:32:039][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 23:13:32:049][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@1ae7a0be, com.example.demo.dto.CartItemDTO@25b7b25a, com.example.demo.dto.CartItemDTO@2b37baeb]
[20250123 23:13:32:050][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@1ae7a0be, com.example.demo.dto.CartItemDTO@25b7b25a, com.example.demo.dto.CartItemDTO@2b37baeb]
[20250123 23:13:32:052][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:13:32:055][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 23:13:32:061][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@396fdd8c]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:13:32:074][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@6c2b0832(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=2, consumerTag=amq.ctag-SdCz3P5wte-gqD6KJJVQeg, consumerQueue=cart-queue])
[20250123 23:13:32:074][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@396fdd8c]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:14:32:052][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:14:32:052][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 23:14:32:052][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 23:14:32:070][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@6a27aa96, com.example.demo.dto.CartItemDTO@196310d4, com.example.demo.dto.CartItemDTO@23f427be]
[20250123 23:14:32:072][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@6a27aa96, com.example.demo.dto.CartItemDTO@196310d4, com.example.demo.dto.CartItemDTO@23f427be]
[20250123 23:14:32:074][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:14:32:077][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 23:14:32:082][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:14:32:091][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@5efc2464(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=3, consumerTag=amq.ctag-uh2Z2guFQWd_umJc8dVL9A, consumerQueue=cart-queue])
[20250123 23:14:32:093][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:23:00:507][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 17960 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 23:23:00:522][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 23:23:00:653][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 23:23:00:653][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 23:23:02:912][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 23:23:02:927][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[20250123 23:23:03:307][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 354 ms. Found 5 JPA repository interfaces.
[20250123 23:23:03:347][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 23:23:03:347][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[20250123 23:23:03:406][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:23:03:409][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:23:03:411][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.TossPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:23:03:414][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:23:03:420][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.WebPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:23:03:422][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
[20250123 23:23:05:726][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat initialized with port 8083 (http)
[20250123 23:23:05:764][INFO ][o.apache.coyote.http11.Http11NioProtocol] Initializing ProtocolHandler ["http-nio-8083"]
[20250123 23:23:05:773][INFO ][o.apache.catalina.core.StandardService] Starting service [Tomcat]
[20250123 23:23:05:775][INFO ][org.apache.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.31]
[20250123 23:23:05:965][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[20250123 23:23:05:965][INFO ][o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 5312 ms
[20250123 23:23:06:346][INFO ][o.hibernate.jpa.internal.util.LogHelper] HHH000204: Processing PersistenceUnitInfo [name: default]
[20250123 23:23:06:677][INFO ][org.hibernate.Version] HHH000412: Hibernate ORM core version 6.5.3.Final
[20250123 23:23:06:766][INFO ][o.h.c.internal.RegionFactoryInitiator] HHH000026: Second-level cache disabled
[20250123 23:23:07:566][INFO ][o.s.o.j.p.SpringPersistenceUnitInfo] No LoadTimeWeaver setup: ignoring JPA class transformer
[20250123 23:23:07:695][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[20250123 23:23:08:448][INFO ][com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5dad4893
[20250123 23:23:08:448][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[20250123 23:23:08:605][WARN ][org.hibernate.orm.deprecation] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[20250123 23:23:08:672][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@442f48e) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1085c5c2)
[20250123 23:23:08:674][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@22e83fc) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@158a5743)
[20250123 23:23:08:675][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@67f37f8) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@38ea4920)
[20250123 23:23:08:677][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4ead1ca2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@9da6a7b)
[20250123 23:23:08:681][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@76e55c4f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1c2ca8fa)
[20250123 23:23:08:682][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3a42ffd1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6011d350)
[20250123 23:23:08:682][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@3ccafc39) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@4558f822)
[20250123 23:23:08:682][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@68493b2f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@62cfe25)
[20250123 23:23:08:682][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6dece1ed) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6ff78d9a)
[20250123 23:23:11:100][INFO ][o.h.e.t.j.p.i.JtaPlatformInitiator] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[20250123 23:23:11:410][INFO ][o.s.o.j.LocalContainerEntityManagerFactoryBean] Initialized JPA EntityManagerFactory for persistence unit 'default'
[20250123 23:23:13:804][WARN ][o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[20250123 23:23:13:990][INFO ][o.s.b.a.w.s.WelcomePageHandlerMapping] Adding welcome page template: index
[20250123 23:23:15:098][INFO ][o.s.b.d.a.OptionalLiveReloadServer] LiveReload server is running on port 35729
[20250123 23:23:15:157][INFO ][o.apache.coyote.http11.Http11NioProtocol] Starting ProtocolHandler ["http-nio-8083"]
[20250123 23:23:15:219][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat started on port 8083 (http) with context path '/'
[20250123 23:23:15:226][INFO ][o.s.a.r.c.CachingConnectionFactory] Attempting to connect to: [localhost:5672]
[20250123 23:23:15:562][INFO ][o.s.a.r.c.CachingConnectionFactory] Created new connection: rabbitConnectionFactory#148ea780:0/SimpleConnection@798fa224 [delegate=amqp://guest@127.0.0.1:5672/, localPort=49507]
[20250123 23:23:15:770][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Starting...
[20250123 23:23:15:774][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@394ef92f]]
[20250123 23:23:15:775][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Started.
[20250123 23:23:15:812][INFO ][com.example.demo.DemoApplication] Started DemoApplication in 17.014 seconds (process running for 18.332)
[20250123 23:23:15:825][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:23:39:970][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring DispatcherServlet 'dispatcherServlet'
[20250123 23:23:39:970][INFO ][o.s.web.servlet.DispatcherServlet] Initializing Servlet 'dispatcherServlet'
[20250123 23:23:39:970][INFO ][o.s.web.servlet.DispatcherServlet] Completed initialization in 0 ms
[20250123 23:23:40:848][WARN ][o.a.catalina.util.SessionIdGeneratorBase] Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [258] milliseconds.
[20250123 23:23:40:941][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 23:23:47:090][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:23:47:270][INFO ][com.example.demo.service.UserService] 로그인 처리 시간 (DB 조회 후 Redis 저장): 232 ms
[20250123 23:23:48:703][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 23:23:48:710][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:23:48:816][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 23:23:48:799][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 23:23:48:833][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:23:49:809][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:23:49:835][DEBUG][org.hibernate.SQL] select c1_0.id,c1_0.created_at,c1_0.product_id,c1_0.quantity,c1_0.updated_at,c1_0.signup_id from cart c1_0 where c1_0.signup_id=?
[20250123 23:23:49:873][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:23:49:894][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 23:23:49:902][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 23:23:49:905][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 23:23:51:394][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:23:51:424][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 23:23:51:458][INFO ][com.example.demo.service.RedisService] Sent cart items to queue: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:23:51:544][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{Cart updated for user: uaua2222}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:23:51:611][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'"Cart updated for user: uaua2222"' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.update, deliveryTag=1, consumerTag=amq.ctag-4d7-yAPld9V_T9PtCQySxA, consumerQueue=cart-queue])
[20250123 23:23:51:613][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{Cart updated for user: uaua2222}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:24:15:147][INFO ][o.s.w.s.c.WebSocketMessageBrokerStats] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 1, completed tasks = 1]
[20250123 23:24:15:811][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:24:15:811][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 23:24:15:811][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 23:24:15:811][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@769518be, com.example.demo.dto.CartItemDTO@7f8e57f7, com.example.demo.dto.CartItemDTO@6b4ed653]
[20250123 23:24:15:811][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@769518be, com.example.demo.dto.CartItemDTO@7f8e57f7, com.example.demo.dto.CartItemDTO@6b4ed653]
[20250123 23:24:15:820][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:24:15:824][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 23:24:15:845][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@274dfcc1]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:24:15:857][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@2326b790(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=1, consumerTag=amq.ctag-7vqQ1Leab878xwjc4ZW5Yg, consumerQueue=cart-queue])
[20250123 23:24:15:857][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@274dfcc1]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:25:15:823][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:25:15:826][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 23:25:15:827][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 23:25:15:831][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@75809c33, com.example.demo.dto.CartItemDTO@1b7acb16, com.example.demo.dto.CartItemDTO@4aadbd02]
[20250123 23:25:15:850][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@75809c33, com.example.demo.dto.CartItemDTO@1b7acb16, com.example.demo.dto.CartItemDTO@4aadbd02]
[20250123 23:25:15:858][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:25:15:864][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 23:25:15:881][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:25:15:899][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@65b5a5cd(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=2, consumerTag=amq.ctag-4d7-yAPld9V_T9PtCQySxA, consumerQueue=cart-queue])
[20250123 23:25:15:901][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:26:15:810][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:26:15:817][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 23:26:15:818][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 23:26:15:822][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@70b95afe, com.example.demo.dto.CartItemDTO@7e7eaa99, com.example.demo.dto.CartItemDTO@7a41318e]
[20250123 23:26:15:824][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@70b95afe, com.example.demo.dto.CartItemDTO@7e7eaa99, com.example.demo.dto.CartItemDTO@7a41318e]
[20250123 23:26:15:827][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:26:15:840][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 23:26:15:908][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@274dfcc1]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:26:15:940][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@33d9cbf0(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=2, consumerTag=amq.ctag-7vqQ1Leab878xwjc4ZW5Yg, consumerQueue=cart-queue])
[20250123 23:26:15:942][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@274dfcc1]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:27:15:194][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 23:27:15:376][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:27:15:416][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 23:27:15:813][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:27:15:816][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 23:27:15:817][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 23:27:15:948][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@eb63b57, com.example.demo.dto.CartItemDTO@7d88b64e, com.example.demo.dto.CartItemDTO@5f6c5fed]
[20250123 23:27:15:962][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@eb63b57, com.example.demo.dto.CartItemDTO@7d88b64e, com.example.demo.dto.CartItemDTO@5f6c5fed]
[20250123 23:27:15:964][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:27:15:972][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 23:27:15:997][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:27:16:010][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@6ff9f42c(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=3, consumerTag=amq.ctag-4d7-yAPld9V_T9PtCQySxA, consumerQueue=cart-queue])
[20250123 23:27:16:014][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:27:18:052][INFO ][com.example.demo.service.UserService] Redis에서 로그인 처리
[20250123 23:27:18:053][INFO ][com.example.demo.service.UserService] 로그인 처리 시간 (Redis 사용): 17 ms
[20250123 23:27:19:339][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 23:27:19:348][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:27:19:453][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 23:27:19:459][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 23:27:19:481][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:27:25:952][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:27:26:023][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 23:27:26:044][INFO ][com.example.demo.service.RedisService] Sent cart items to queue: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":12,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:27:26:078][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@274dfcc1]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload 'Cart updated for user: uaua2222' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [Cart updated for user: uaua2222]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "Cartupdatedforuser:uaua2222"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:27:26:106][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'"Cart updated for user: uaua2222"' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.update, deliveryTag=3, consumerTag=amq.ctag-7vqQ1Leab878xwjc4ZW5Yg, consumerQueue=cart-queue])
[20250123 23:27:26:108][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@274dfcc1]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload 'Cart updated for user: uaua2222' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [Cart updated for user: uaua2222]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "Cartupdatedforuser:uaua2222"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:27:28:845][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:27:28:855][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 23:27:28:868][INFO ][com.example.demo.service.RedisService] Sent cart items to queue: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:27:28:915][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{Cart updated for user: uaua2222}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:27:28:936][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'"Cart updated for user: uaua2222"' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.update, deliveryTag=4, consumerTag=amq.ctag-4d7-yAPld9V_T9PtCQySxA, consumerQueue=cart-queue])
[20250123 23:27:28:936][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{Cart updated for user: uaua2222}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:28:15:820][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:28:15:820][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 23:28:15:820][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 23:28:15:820][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@61ddd89d, com.example.demo.dto.CartItemDTO@5e0e2b72, com.example.demo.dto.CartItemDTO@668cdc3b]
[20250123 23:28:15:820][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@61ddd89d, com.example.demo.dto.CartItemDTO@5e0e2b72, com.example.demo.dto.CartItemDTO@668cdc3b]
[20250123 23:28:15:829][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:28:15:832][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 23:28:15:837][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@274dfcc1]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:28:15:860][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@6017ea35(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=4, consumerTag=amq.ctag-7vqQ1Leab878xwjc4ZW5Yg, consumerQueue=cart-queue])
[20250123 23:28:15:860][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@274dfcc1]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:29:15:819][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:29:15:828][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 23:29:15:829][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 23:29:15:832][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@5b226430, com.example.demo.dto.CartItemDTO@543456f9, com.example.demo.dto.CartItemDTO@7b4ea2b6]
[20250123 23:29:15:835][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@5b226430, com.example.demo.dto.CartItemDTO@543456f9, com.example.demo.dto.CartItemDTO@7b4ea2b6]
[20250123 23:29:15:837][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:29:15:840][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 23:29:15:845][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:29:15:858][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@2e8a009a(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=5, consumerTag=amq.ctag-4d7-yAPld9V_T9PtCQySxA, consumerQueue=cart-queue])
[20250123 23:29:15:861][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:50:07:216][INFO ][com.example.demo.DemoApplication] Starting DemoApplication using Java 17.0.3 with PID 12224 (C:\Users\user\Desktop\demo\build\classes\java\main started by 최진혁 in C:\Users\user\Desktop\demo)
[20250123 23:50:07:254][INFO ][com.example.demo.DemoApplication] No active profile set, falling back to 1 default profile: "default"
[20250123 23:50:07:455][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[20250123 23:50:07:471][INFO ][o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[20250123 23:50:10:393][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 23:50:10:393][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[20250123 23:50:10:839][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 406 ms. Found 5 JPA repository interfaces.
[20250123 23:50:10:911][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Multiple Spring Data modules found, entering strict repository configuration mode
[20250123 23:50:10:915][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[20250123 23:50:10:967][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.CartRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:50:10:983][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:50:10:985][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.TossPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:50:10:988][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:50:10:996][INFO ][o.s.d.r.c.RepositoryConfigurationExtensionSupport] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.example.demo.repository.WebPaymentInfoRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
[20250123 23:50:11:001][INFO ][o.s.d.r.c.RepositoryConfigurationDelegate] Finished Spring Data repository scanning in 45 ms. Found 0 Redis repository interfaces.
[20250123 23:50:13:181][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat initialized with port 8083 (http)
[20250123 23:50:13:215][INFO ][o.apache.coyote.http11.Http11NioProtocol] Initializing ProtocolHandler ["http-nio-8083"]
[20250123 23:50:13:216][INFO ][o.apache.catalina.core.StandardService] Starting service [Tomcat]
[20250123 23:50:13:216][INFO ][org.apache.catalina.core.StandardEngine] Starting Servlet engine: [Apache Tomcat/10.1.31]
[20250123 23:50:13:394][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring embedded WebApplicationContext
[20250123 23:50:13:394][INFO ][o.s.b.w.s.c.ServletWebServerApplicationContext] Root WebApplicationContext: initialization completed in 5923 ms
[20250123 23:50:13:795][INFO ][o.hibernate.jpa.internal.util.LogHelper] HHH000204: Processing PersistenceUnitInfo [name: default]
[20250123 23:50:14:027][INFO ][org.hibernate.Version] HHH000412: Hibernate ORM core version 6.5.3.Final
[20250123 23:50:14:159][INFO ][o.h.c.internal.RegionFactoryInitiator] HHH000026: Second-level cache disabled
[20250123 23:50:15:113][INFO ][o.s.o.j.p.SpringPersistenceUnitInfo] No LoadTimeWeaver setup: ignoring JPA class transformer
[20250123 23:50:15:185][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Starting...
[20250123 23:50:15:920][INFO ][com.zaxxer.hikari.pool.HikariPool] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@53584559
[20250123 23:50:15:929][INFO ][com.zaxxer.hikari.HikariDataSource] HikariPool-1 - Start completed.
[20250123 23:50:16:077][WARN ][org.hibernate.orm.deprecation] HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
[20250123 23:50:16:131][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2000623d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2a163746)
[20250123 23:50:16:131][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@51fa13ab) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@27a136d8)
[20250123 23:50:16:131][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@413b99b) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@1f241258)
[20250123 23:50:16:131][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@1ec22d5c) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@307bcfaa)
[20250123 23:50:16:131][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@293d675f) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@163406f2)
[20250123 23:50:16:149][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@199371a5) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@77fbfba2)
[20250123 23:50:16:150][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@353e7d9d) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@30bee5e)
[20250123 23:50:16:155][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@117a9c3) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@291964a8)
[20250123 23:50:16:166][DEBUG][o.h.t.descriptor.sql.spi.DdlTypeRegistry] addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@6f0d2683) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@33285c22)
[20250123 23:50:18:632][INFO ][o.h.e.t.j.p.i.JtaPlatformInitiator] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[20250123 23:50:18:933][INFO ][o.s.o.j.LocalContainerEntityManagerFactoryBean] Initialized JPA EntityManagerFactory for persistence unit 'default'
[20250123 23:50:21:168][WARN ][o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[20250123 23:50:21:320][INFO ][o.s.b.a.w.s.WelcomePageHandlerMapping] Adding welcome page template: index
[20250123 23:50:22:251][INFO ][o.s.b.d.a.OptionalLiveReloadServer] LiveReload server is running on port 35729
[20250123 23:50:22:347][INFO ][o.apache.coyote.http11.Http11NioProtocol] Starting ProtocolHandler ["http-nio-8083"]
[20250123 23:50:22:432][INFO ][o.s.b.w.embedded.tomcat.TomcatWebServer] Tomcat started on port 8083 (http) with context path '/'
[20250123 23:50:22:453][INFO ][o.s.a.r.c.CachingConnectionFactory] Attempting to connect to: [localhost:5672]
[20250123 23:50:23:023][INFO ][o.s.a.r.c.CachingConnectionFactory] Created new connection: rabbitConnectionFactory#3565ead5:0/SimpleConnection@178a7a83 [delegate=amqp://guest@127.0.0.1:5672/, localPort=49947]
[20250123 23:50:23:188][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Starting...
[20250123 23:50:23:189][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1714382]]
[20250123 23:50:23:190][INFO ][o.s.m.s.b.SimpleBrokerMessageHandler] Started.
[20250123 23:50:23:213][INFO ][com.example.demo.DemoApplication] Started DemoApplication in 17.694 seconds (process running for 18.795)
[20250123 23:50:23:229][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:51:22:323][INFO ][o.s.w.s.c.WebSocketMessageBrokerStats] WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 1, completed tasks = 1]
[20250123 23:51:23:224][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:52:23:220][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:52:23:810][INFO ][o.a.c.c.C.[Tomcat].[localhost].[/]] Initializing Spring DispatcherServlet 'dispatcherServlet'
[20250123 23:52:23:810][INFO ][o.s.web.servlet.DispatcherServlet] Initializing Servlet 'dispatcherServlet'
[20250123 23:52:23:823][INFO ][o.s.web.servlet.DispatcherServlet] Completed initialization in 13 ms
[20250123 23:52:24:838][WARN ][o.a.catalina.util.SessionIdGeneratorBase] Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [373] milliseconds.
[20250123 23:52:24:948][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 23:52:34:783][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:52:34:970][INFO ][com.example.demo.service.UserService] 로그인 처리 시간 (DB 조회 후 Redis 저장): 248 ms
[20250123 23:52:37:162][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 23:52:37:171][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:52:37:326][INFO ][com.example.demo.service.UserService] Redis에서 캐시된 사용자 로그인 처리
[20250123 23:52:37:338][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:52:37:352][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0
[20250123 23:52:38:528][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:52:38:544][DEBUG][org.hibernate.SQL] select c1_0.id,c1_0.created_at,c1_0.product_id,c1_0.quantity,c1_0.updated_at,c1_0.signup_id from cart c1_0 where c1_0.signup_id=?
[20250123 23:52:38:593][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:52:38:622][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 23:52:38:644][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 23:52:38:673][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 23:52:39:881][DEBUG][org.hibernate.SQL] select u1_0.id,u1_0.created_at,u1_0.name,u1_0.phone,u1_0.signup_id,u1_0.signup_password,u1_0.updated_at from user u1_0 where u1_0.signup_id=?
[20250123 23:52:39:898][DEBUG][org.hibernate.SQL] select p1_0.id,p1_0.category,p1_0.country,p1_0.manufacturer,p1_0.name,p1_0.price,p1_0.quantity from product p1_0 where p1_0.id=?
[20250123 23:52:39:958][INFO ][com.example.demo.service.RedisService] Sent cart items to queue: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:52:40:408][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{Cart updated for user: uaua2222}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:52:40:488][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'"Cart updated for user: uaua2222"' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.update, deliveryTag=1, consumerTag=amq.ctag-HGXYdmwheqUUmk-sfMJmfA, consumerQueue=cart-queue])
[20250123 23:52:40:501][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{Cart updated for user: uaua2222}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:53:23:227][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:53:23:227][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 23:53:23:227][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 23:53:23:227][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@769518be, com.example.demo.dto.CartItemDTO@7f8e57f7, com.example.demo.dto.CartItemDTO@6b4ed653]
[20250123 23:53:23:227][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@769518be, com.example.demo.dto.CartItemDTO@7f8e57f7, com.example.demo.dto.CartItemDTO@6b4ed653]
[20250123 23:53:23:241][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:53:23:243][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 23:53:23:258][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@4ba9867c]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:53:23:290][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@2326b790(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=1, consumerTag=amq.ctag-VtuVdB98dXAq_mWWk7cNQg, consumerQueue=cart-queue])
[20250123 23:53:23:290][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@4ba9867c]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:54:23:221][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:54:23:221][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 23:54:23:221][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 23:54:23:221][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@104a7bca, com.example.demo.dto.CartItemDTO@1e8d87b3, com.example.demo.dto.CartItemDTO@1ab210ba]
[20250123 23:54:23:221][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@104a7bca, com.example.demo.dto.CartItemDTO@1e8d87b3, com.example.demo.dto.CartItemDTO@1ab210ba]
[20250123 23:54:23:231][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:54:23:234][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 23:54:23:237][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:54:23:255][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@65b5a5cd(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=2, consumerTag=amq.ctag-HGXYdmwheqUUmk-sfMJmfA, consumerQueue=cart-queue])
[20250123 23:54:23:258][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:55:23:217][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:55:23:217][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 23:55:23:217][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 23:55:23:236][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@5fb08d88, com.example.demo.dto.CartItemDTO@1c67299f, com.example.demo.dto.CartItemDTO@6e2595bf]
[20250123 23:55:23:240][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@5fb08d88, com.example.demo.dto.CartItemDTO@1c67299f, com.example.demo.dto.CartItemDTO@6e2595bf]
[20250123 23:55:23:246][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:55:23:266][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 23:55:23:284][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@4ba9867c]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:55:23:305][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@33d9cbf0(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=2, consumerTag=amq.ctag-VtuVdB98dXAq_mWWk7cNQg, consumerQueue=cart-queue])
[20250123 23:55:23:307][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@4ba9867c]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:56:23:225][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:56:23:228][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 23:56:23:229][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 23:56:23:235][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@50bd7052, com.example.demo.dto.CartItemDTO@15bfe421, com.example.demo.dto.CartItemDTO@675161bf]
[20250123 23:56:23:241][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@50bd7052, com.example.demo.dto.CartItemDTO@15bfe421, com.example.demo.dto.CartItemDTO@675161bf]
[20250123 23:56:23:246][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:56:23:251][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 23:56:23:261][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:56:23:270][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@6ff9f42c(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=3, consumerTag=amq.ctag-HGXYdmwheqUUmk-sfMJmfA, consumerQueue=cart-queue])
[20250123 23:56:23:274][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:57:23:219][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:57:23:224][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 23:57:23:224][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 23:57:23:233][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@75809c33, com.example.demo.dto.CartItemDTO@1b7acb16, com.example.demo.dto.CartItemDTO@4aadbd02]
[20250123 23:57:23:260][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@75809c33, com.example.demo.dto.CartItemDTO@1b7acb16, com.example.demo.dto.CartItemDTO@4aadbd02]
[20250123 23:57:23:260][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:57:23:280][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 23:57:23:331][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@4ba9867c]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:57:23:411][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@73005a05(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=3, consumerTag=amq.ctag-VtuVdB98dXAq_mWWk7cNQg, consumerQueue=cart-queue])
[20250123 23:57:23:445][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message
Endpoint handler details:
Method [public void com.example.demo.service.CartMessageListener.onMessage(byte[])]
Bean [com.example.demo.service.CartMessageListener@4ba9867c]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:282)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: org.springframework.messaging.converter.MessageConversionException: Failed to convert message payload '[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]' to '[B'
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:70)
	at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:147)
	at org.springframework.amqp.rabbit.listener.adapter.AmqpMessageHandlerMethodFactory$OptionalEmptyAwarePayloadArgumentResolver.resolveArgument(AmqpMessageHandlerMethodFactory.java:99)
	at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278)
	... 15 common frames omitted
Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [byte] for value [[{"productName":"아디다스 티셔츠"]
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:47)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.StringToArrayConverter.convert(StringToArrayConverter.java:72)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:182)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:165)
	at org.springframework.messaging.converter.GenericMessageConverter.fromMessage(GenericMessageConverter.java:66)
	... 22 common frames omitted
Caused by: java.lang.NumberFormatException: For input string: "[{"productName":"아디다스티셔츠""
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)
	at java.base/java.lang.Integer.parseInt(Integer.java:668)
	at java.base/java.lang.Byte.parseByte(Byte.java:193)
	at java.base/java.lang.Byte.valueOf(Byte.java:249)
	at java.base/java.lang.Byte.valueOf(Byte.java:275)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:197)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:64)
	at org.springframework.core.convert.support.StringToNumberConverterFactory$StringToNumber.convert(StringToNumberConverterFactory.java:50)
	at org.springframework.core.convert.support.GenericConversionService$ConverterFactoryAdapter.convert(GenericConversionService.java:409)
	at org.springframework.core.convert.support.ConversionUtils.invokeConverter(ConversionUtils.java:41)
	... 28 common frames omitted
[20250123 23:58:23:228][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] 시작
[20250123 23:58:23:233][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis 키 확인: cart:uaua2222
[20250123 23:58:23:234][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis 키로 데이터 조회: cart:uaua2222
[20250123 23:58:23:254][INFO ][c.example.demo.service.CartSyncService] [getCartItemsFromRedis] Redis에서 장바구니 항목 변환 성공: [com.example.demo.dto.CartItemDTO@4ae67a14, com.example.demo.dto.CartItemDTO@7b4bb0d1, com.example.demo.dto.CartItemDTO@3e97d35b]
[20250123 23:58:23:258][INFO ][c.example.demo.service.CartSyncService] [syncCartToQueue] Redis에서 가져온 장바구니 항목: [com.example.demo.dto.CartItemDTO@4ae67a14, com.example.demo.dto.CartItemDTO@7b4bb0d1, com.example.demo.dto.CartItemDTO@3e97d35b]
[20250123 23:58:23:262][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 전송할 메시지 생성: [{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]
[20250123 23:58:23:277][INFO ][c.example.demo.service.CartSyncService] [sendBatchToQueue] 장바구니 항목을 큐로 전송 완료
[20250123 23:58:23:310][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler] Execution of Rabbit message listener failed.
org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
[20250123 23:58:23:325][WARN ][o.s.a.r.l.ConditionalRejectingErrorHandler$DefaultExceptionStrategy] Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@1e00cd6e(byte[442])' MessageProperties [headers={__TypeId__=java.lang.String}, contentType=application/json, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=cartExchange, receivedRoutingKey=cart.#, deliveryTag=4, consumerTag=amq.ctag-HGXYdmwheqUUmk-sfMJmfA, consumerQueue=cart-queue])
[20250123 23:58:23:327][ERROR][o.s.a.r.l.SimpleMessageListenerContainer] Execution of Rabbit message listener failed, and the error handler threw an exception
org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506)
	at io.micrometer.observation.Observation.observe(Observation.java:499)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1421)
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to invoke target method 'onMessage' with argument type = [class java.lang.String], value = [{[{"productName":"아디다스 티셔츠","productPrice":88000.0,"quantity":2,"totalPrice":176000.0,"productId":2,"userId":"uaua2222"},{"productName":"퓨마 후드티","productPrice":99000.0,"quantity":3,"totalPrice":297000.0,"productId":3,"userId":"uaua2222"},{"productName":"나이키 운동화","productPrice":55000.0,"quantity":13,"totalPrice":660000.0,"productId":5,"userId":"uaua2222"}]}]
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:293)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583)
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528)
	... 8 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.example.demo.service.CartMessageListener.onMessage(java.lang.String)
	at java.base/java.lang.Class.getMethod(Class.java:2227)
	at org.springframework.util.MethodInvoker.prepare(MethodInvoker.java:186)
	at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:365)
	... 14 common frames omitted
